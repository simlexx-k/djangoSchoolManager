import{r as v,R as B,c as a,a as e,a1 as i,G as S,a5 as A,a3 as T,o as t,w as oe,l as R,F as D,a6 as M,a7 as U,W as te,a8 as z,Z as V,a9 as N,L as le,u as H,aa as $e,ab as Se,ac as Y,a0 as X,O as P,a2 as O,ad as Ce,_ as Ae,ae as Ee,af as Z,ag as ve,P as De,Q as ce,ah as ie}from"./@vue-DC5abgTK.js";import{d as he,c as Le}from"./pinia-BZk0auny.js";import{k as fe}from"./vue-dompurify-html-B-fm0wQc.js";import{u as J,a as ue,c as Me,b as Fe}from"./vue-router-xt--NDcT.js";import{a as je}from"./axios-CCb-kr4I.js";import{r as Ve,a as xe,b as ye,c as Pe,d as Te,e as se,f as Ue,g as ze,h as Ne,i as Ge,j as Be,k as be,l as qe,m as Oe,n as Re,o as Ie,p as He,q as We,s as Ye,t as Qe,u as Ke}from"./@heroicons-CM1Noj2c.js";import{E as Ze,_ as Je}from"./jspdf-CX9ZGpbv.js";import{C as me,B as Xe,a as et,L as tt,b as st,p as at}from"./chart.js-J42MQqxL.js";import"./jspdf-autotable-EKkS-5Lx.js";import"./qrcode-DdfbIEu5.js";import{c as ot,a as rt,d as nt}from"./vuetify-C0gOko4r.js";import"./core-js-BZbSh4NS.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";import"./@kurkle-BZxJdD1U.js";import"./dijkstrajs-D_NXgYpA.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const g of o)if(g.type==="childList")for(const c of g.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function l(o){const g={};return o.integrity&&(g.integrity=o.integrity),o.referrerPolicy&&(g.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?g.credentials="include":o.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function r(o){if(o.ep)return;o.ep=!0;const g=l(o);fetch(o.href,g)}})();const F=je.create({baseURL:"http://localhost:8000/api/dashboard/",withCredentials:!0});function lt(d){let s=null;if(document.cookie&&document.cookie!==""){const l=document.cookie.split(";");for(let r=0;r<l.length;r++){const o=l[r].trim();if(o.substring(0,d.length+1)===d+"="){s=decodeURIComponent(o.substring(d.length+1));break}}}return s}F.interceptors.request.use(function(d){return d.headers["X-CSRFToken"]=lt("csrftoken"),d},function(d){return Promise.reject(d)});const it={login(d){return F.post("student-parent/login/",d)},logout(){return F.post("student-parent/logout/")},getProfile(){return F.get("user/profile/")}},re=he("auth",{state:()=>({user:null,token:null,authStatus:!1}),getters:{isAuthenticated:d=>d.authStatus},actions:{async login(d){try{const s=await it.login(d);return this.token=s.data.token,this.user=s.data.user,this.authStatus=!0,localStorage.setItem("token",this.token),s.data}catch(s){throw console.error("Login failed:",s),s}},logout(){this.user=null,this.authStatus=!1,this.token=null,localStorage.removeItem("token")},async fetchUser(){try{const d=await F.get("/auth/user/");this.user=d.data,this.authStatus=!0}catch(d){console.error("Failed to fetch user:",d),this.logout()}}}}),I=(d,s)=>{const l=d.__vccOpts||d;for(const[r,o]of s)l[r]=o;return l},dt={class:"error-page"},ct={class:"error-content"},ut={class:"educational-fact"},mt={__name:"NotFoundError",setup(d){const s=["The word 'education' comes from the Latin 'educare' meaning 'to bring up or train'.","The first known university in the world was the University of Bologna, founded in 1088.","The longest word in the English language is 189,819 letters long and would take about 3.5 hours to pronounce.","The human brain is more active during sleep than during the day.","A group of flamingos is called a 'flamboyance'.","The Great Wall of China is not visible from space with the naked eye.","The first computer programmer was a woman named Ada Lovelace.","The shortest war in history lasted only 38 minutes between Britain and Zanzibar in 1896.","Honey never spoils. Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3,000 years old and still perfectly edible.","The Eiffel Tower can be 15 cm taller during the summer due to thermal expansion of the iron."],l=v("");return B(()=>{l.value=s[Math.floor(Math.random()*s.length)]}),(r,o)=>{const g=T("router-link");return t(),a("div",dt,[e("div",ct,[o[2]||(o[2]=e("h1",{class:"error-title"},"404",-1)),o[3]||(o[3]=e("div",{class:"error-message"},[e("h2",null,"Oops! Page not found"),e("p",null,"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable.")],-1)),e("div",ut,[o[0]||(o[0]=e("h3",null,"Did you know?",-1)),e("p",null,i(l.value),1)]),S(g,{to:"/",class:"home-link"},{default:A(()=>o[1]||(o[1]=[e("span",null,"Return to Homepage",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M5 12h14M12 5l7 7-7 7"})],-1)])),_:1})]),o[4]||(o[4]=e("div",{class:"error-background"},null,-1))])}}},_e=I(mt,[["__scopeId","data-v-7999c9d6"]]),gt=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"})),pt={class:"error-page"},vt={__name:"GeneralError",props:{errorMessage:{type:String,default:"An unexpected error occurred."}},setup(d){const s=()=>{window.location.reload()};return(l,r)=>(t(),a("div",pt,[r[0]||(r[0]=e("h1",null,"Oops! Something went wrong",-1)),e("p",null,i(d.errorMessage),1),e("button",{onClick:s,class:"reload-button"},"Reload Page")]))}},ht=I(vt,[["__scopeId","data-v-91901968"]]),ae="/assets/masabaLogo-Bbr7yuU4.png",ge=he("theme",()=>{const d=v(localStorage.getItem("theme")||"system");oe(d,l=>{localStorage.setItem("theme",l),s(l)});function s(l){l==="dark"||l==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}return s(d.value),{theme:d}}),ft={class:"h-screen flex overflow-hidden bg-gray-100 dark:bg-gray-900"},xt={class:"hidden md:flex md:flex-shrink-0"},yt={class:"flex flex-col w-64"},bt={class:"flex flex-col h-0 flex-1"},_t={class:"flex-1 flex flex-col overflow-y-auto"},wt={class:"flex-1 px-2 py-4 bg-gray-800 dark:bg-gray-900 space-y-1"},kt={key:0,class:"fixed inset-0 flex z-40 md:hidden",role:"dialog","aria-modal":"true"},$t={class:"relative flex-1 flex flex-col max-w-xs w-full"},St={class:"flex-1 h-0 overflow-y-auto bg-gray-800 dark:bg-gray-900"},Ct={class:"px-2 py-4 space-y-1"},At={class:"flex flex-col w-0 flex-1 overflow-hidden"},Et={class:"relative z-10 flex-shrink-0 flex h-16 bg-white dark:bg-gray-800 shadow"},Dt={class:"flex-1 px-4 flex justify-between"},Lt={class:"flex-1 flex"},Mt={class:"text-2xl font-semibold text-gray-800 self-center"},Ft={class:"ml-4 flex items-center md:ml-6"},jt={class:"bg-white dark:bg-gray-800 p-1 rounded-full text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},Vt={class:"ml-3 relative"},Pt=["src","alt"],Tt={key:0,class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},Ut={class:"flex-1 relative overflow-y-auto focus:outline-none"},zt={class:"py-6"},Nt={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},Gt={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Bt={__name:"NavigationMenu",setup(d){const s=J(),l=re(),r=v(!1),o=v(!1),g=v(!1),c=v(!1);v(2);const f=v(""),u=v(""),m=v(""),b=ge(),h=()=>{b.theme=b.theme==="light"?"dark":"light"},p=R(()=>b.theme==="dark"),x=v([{name:"Home",href:"/",icon:Ve,current:!1,requiresAuth:!1,hideWhenAuth:!0},{name:"Overview",href:"/dashboard",icon:xe,current:!0,requiresAuth:!0},{name:"Subjects",href:"/courses",icon:ye,current:!1,requiresAuth:!0},{name:"Exams",href:"/exams",icon:Pe,current:!1,requiresAuth:!0},{name:"Assignments",href:"/assignments",icon:Te,current:!1,requiresAuth:!0},{name:"Graded Assignments",href:"/graded-assignments",icon:se,current:!1,requiresAuth:!0},{name:"Grades",href:"/grades",icon:se,current:!1,requiresAuth:!0},{name:"Attendance",href:"/attendance",icon:Ue,current:!1,requiresAuth:!0},{name:"Schedule",href:"/schedule",icon:ze,current:!1,requiresAuth:!0},{name:"Messages",href:"/messages",icon:Ne,current:!1,requiresAuth:!0},{name:"Resources",href:"/resources",icon:Ge,current:!1,requiresAuth:!0},{name:"About",href:"/about",icon:Be,current:!1,requiresAuth:!1,hideWhenAuth:!0},{name:"Contact",href:"/contact",icon:be,current:!1,requiresAuth:!1,hideWhenAuth:!0}]),j=R(()=>x.value.filter(w=>!w.requiresAuth&&!l.isAuthenticated||w.requiresAuth&&l.isAuthenticated||!w.hideWhenAuth&&l.isAuthenticated)),n=R(()=>{const w=x.value.find(k=>k.current);return w?w.name:"Dashboard"}),y=async()=>{if(l.isAuthenticated)try{const w=await F.get("/learner/profile/");f.value=w.data.name,u.value=w.data.email||"No email provided",m.value=w.data.avatar||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"}catch(w){console.error("Error fetching user details:",w)}},C=async()=>{try{await l.logout(),s.push("/login")}catch(w){console.error("Error during logout:",w)}},L=()=>{o.value=!o.value},$=()=>{g.value=!g.value},_=w=>{x.value.forEach(k=>{k.current=k.name===w.name}),c.value&&(r.value=!1)},E=()=>{c.value=window.innerWidth<768};return B(()=>{l.isAuthenticated&&y(),E(),window.addEventListener("resize",E)}),s.afterEach(w=>{const k=x.value.find(q=>q.href===w.path);k&&_(k)}),oe(()=>b.theme,w=>{w==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},{immediate:!0}),(w,k)=>{const q=T("router-link");return t(),a(D,null,[e("div",ft,[e("div",xt,[e("div",yt,[e("div",bt,[e("div",_t,[k[2]||(k[2]=e("div",{class:"flex items-center flex-shrink-0 px-4 h-16 bg-white dark:bg-gray-800 shadow"},[e("img",{class:"h-8 w-auto",src:ae,alt:"Masaba Logo"}),e("span",{class:"text-gray-800 dark:text-white ml-2 text-xl font-semibold"},"Masaba")],-1)),e("nav",wt,[(t(!0),a(D,null,M(j.value,G=>(t(),U(q,{key:G.name,to:G.href,class:z([G.current?"bg-gray-900 text-white dark:bg-gray-700 dark:text-white":"text-gray-300 hover:bg-gray-700 hover:text-white dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white","group flex items-center px-2 py-2 text-sm font-medium rounded-md"]),onClick:ne=>_(G)},{default:A(()=>[(t(),U(te(G.icon),{class:z(["mr-3 flex-shrink-0 h-6 w-6",[G.current?"text-gray-300 dark:text-gray-300":"text-gray-400 group-hover:text-gray-300 dark:text-gray-500 dark:group-hover:text-gray-300"]]),"aria-hidden":"true"},null,8,["class"])),V(" "+i(G.name),1)]),_:2},1032,["to","class","onClick"]))),128))])])])])]),S(le,{"enter-active-class":"transition ease-out duration-150","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:A(()=>[c.value&&r.value?(t(),a("div",kt,[e("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-75","aria-hidden":"true",onClick:k[0]||(k[0]=G=>r.value=!1)}),e("div",$t,[k[3]||(k[3]=e("div",{class:"flex items-center flex-shrink-0 px-4 h-16 bg-white dark:bg-gray-800 shadow"},[e("img",{class:"h-8 w-auto",src:ae,alt:"Masaba Logo"}),e("span",{class:"text-gray-800 dark:text-white ml-2 text-xl font-semibold"},"Masaba")],-1)),e("div",St,[e("nav",Ct,[(t(!0),a(D,null,M(j.value,G=>(t(),U(q,{key:G.name,to:G.href,class:z(["menu-item group flex items-center px-2 py-2 text-base font-medium rounded-md",{"bg-gray-900 text-white":G.current}]),onClick:ne=>_(G)},{default:A(()=>[(t(),U(te(G.icon),{class:"menu-item-icon mr-4 flex-shrink-0 h-6 w-6","aria-hidden":"true"})),V(" "+i(G.name),1)]),_:2},1032,["to","class","onClick"]))),128))])])])])):N("",!0)]),_:1}),e("div",At,[e("div",Et,[e("button",{onClick:k[1]||(k[1]=G=>r.value=!0),class:"md:hidden px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"},[k[4]||(k[4]=e("span",{class:"sr-only"},"Open sidebar",-1)),S(H(qe),{class:"h-6 w-6","aria-hidden":"true"})]),e("div",Dt,[e("div",Lt,[e("h1",Mt,i(n.value),1)]),e("div",Ft,[e("button",{onClick:$,class:"bg-white dark:bg-gray-800 p-1 rounded-full text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[k[5]||(k[5]=e("span",{class:"sr-only"},"Search",-1)),S(H(Oe),{class:"h-6 w-6","aria-hidden":"true"})]),e("button",jt,[k[6]||(k[6]=e("span",{class:"sr-only"},"View notifications",-1)),S(H(Re),{class:"h-6 w-6","aria-hidden":"true"})]),e("button",{onClick:h,class:z(["p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",p.value?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-400 hover:text-gray-500"])},[k[7]||(k[7]=e("span",{class:"sr-only"},"Toggle theme",-1)),p.value?(t(),U(H(Ie),{key:0,class:"h-6 w-6 text-yellow-400","aria-hidden":"true"})):(t(),U(H(He),{key:1,class:"h-6 w-6 text-gray-600","aria-hidden":"true"}))],2),e("div",Vt,[e("div",null,[e("button",{onClick:L,class:"max-w-xs bg-white dark:bg-gray-800 flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",id:"user-menu","aria-expanded":"false","aria-haspopup":"true"},[k[8]||(k[8]=e("span",{class:"sr-only"},"Open user menu",-1)),e("img",{class:"h-8 w-8 rounded-full",src:m.value,alt:f.value},null,8,Pt)])]),S(le,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:A(()=>[o.value?(t(),a("div",Tt,[S(q,{to:"/profile",class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",role:"menuitem"},{default:A(()=>k[9]||(k[9]=[V("Your Profile")])),_:1}),S(q,{to:"/settings",class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",role:"menuitem"},{default:A(()=>k[10]||(k[10]=[V("Settings")])),_:1}),e("a",{onClick:C,href:"#",class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",role:"menuitem"},"Sign out")])):N("",!0)]),_:1})])])])]),e("main",Ut,[e("div",zt,[e("div",Nt,[$e(w.$slots,"default",{},void 0)])])])])]),S(le,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:A(()=>[g.value?(t(),a("div",Gt,[e("div",{class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},[k[12]||(k[12]=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"},null,-1)),k[13]||(k[13]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹",-1)),e("div",{class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},[k[11]||(k[11]=e("div",{class:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},[e("div",{class:"sm:flex sm:items-start"},[e("div",{class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",id:"modal-title"}," Search "),e("div",{class:"mt-2"},[e("input",{type:"text",placeholder:"Search...",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})])])])],-1)),e("div",{class:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[e("button",{onClick:$,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Close ")])])])])):N("",!0)]),_:1})],64)}}},qt=I(Bt,[["__scopeId","data-v-d1b7ecc8"]]),Ot={__name:"App",setup(d){const s=J(),l=re(),r=ge(),o=v(null),g=R(()=>!["/login","/register","/forgot-password"].includes(s.currentRoute.value.path)&&l.isAuthenticated),c=R(()=>r.theme==="dark"||r.theme==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches),f=u=>{console.error(u),o.value=u.message||"An unexpected error occurred"};return Se(u=>(f(u),!0)),s.onError(u=>{u.message.includes("Failed to fetch dynamically imported module")?o.value="404":f(u)}),(u,m)=>{const b=T("RouterView");return t(),a("div",{id:"app",class:z([{dark:c.value},"bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen"])},[o.value==="404"?(t(),U(_e,{key:0})):o.value?(t(),U(ht,{key:1,errorMessage:o.value},null,8,["errorMessage"])):N("",!0),g.value?(t(),U(qt,{key:2},{default:A(()=>[S(b)]),_:1})):(t(),U(b,{key:3,onError:f}))],2)}}},Rt={class:"bg-gray-50"},It={__name:"HomeView",setup(d){return(s,l)=>(t(),a("main",Rt,l[0]||(l[0]=[Y('<div class="relative bg-white overflow-hidden" data-v-a3c4ad82><div class="max-w-7xl mx-auto" data-v-a3c4ad82><div class="relative z-10 pb-8 bg-white sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32" data-v-a3c4ad82><svg class="hidden lg:block absolute right-0 inset-y-0 h-full w-48 text-white transform translate-x-1/2" fill="currentColor" viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true" data-v-a3c4ad82><polygon points="50,0 100,0 50,100 0,100" data-v-a3c4ad82></polygon></svg><div class="relative pt-6 px-4 sm:px-6 lg:px-8" data-v-a3c4ad82></div><main class="mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28" data-v-a3c4ad82><div class="sm:text-center lg:text-left" data-v-a3c4ad82><h1 class="text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl" data-v-a3c4ad82><span class="block xl:inline" data-v-a3c4ad82>Welcome to your </span><span class="block text-indigo-600 xl:inline" data-v-a3c4ad82>Student Dashboard</span></h1><p class="mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0" data-v-a3c4ad82> Access your courses, track your progress, and manage your academic journey all in one place. </p><div class="mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start" data-v-a3c4ad82><div class="rounded-md shadow" data-v-a3c4ad82><a href="/login" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10" data-v-a3c4ad82> Get started </a></div><div class="mt-3 sm:mt-0 sm:ml-3" data-v-a3c4ad82><a href="#" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 md:py-4 md:text-lg md:px-10" data-v-a3c4ad82> Learn more </a></div></div></div></main></div></div><div class="lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2" data-v-a3c4ad82><img class="h-56 w-full object-cover sm:h-72 md:h-96 lg:w-full lg:h-full" src="https://images.unsplash.com/photo-1551434678-e076c223a692?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2850&amp;q=80" alt="" data-v-a3c4ad82></div></div><div class="py-12 bg-white" data-v-a3c4ad82><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" data-v-a3c4ad82><div class="lg:text-center" data-v-a3c4ad82><h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase" data-v-a3c4ad82>Features</h2><p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl" data-v-a3c4ad82> Everything you need to succeed </p><p class="mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto" data-v-a3c4ad82> Our student dashboard provides all the tools and information you need to excel in your academic journey. </p></div><div class="mt-10" data-v-a3c4ad82><dl class="space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10" data-v-a3c4ad82><div class="relative" data-v-a3c4ad82><dt data-v-a3c4ad82><div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white" data-v-a3c4ad82><svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a3c4ad82><path d="M12 14l9-5-9-5-9 5 9 5z" data-v-a3c4ad82></path><path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" data-v-a3c4ad82></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222" data-v-a3c4ad82></path></svg></div><p class="ml-16 text-lg leading-6 font-medium text-gray-900" data-v-a3c4ad82>Course Management</p></dt><dd class="mt-2 ml-16 text-base text-gray-500" data-v-a3c4ad82> Easily access and manage all your courses in one place. </dd></div><div class="relative" data-v-a3c4ad82><dt data-v-a3c4ad82><div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white" data-v-a3c4ad82><svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a3c4ad82><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v6a2 2 0 002 2h2v4l.586-.586z" data-v-a3c4ad82></path></svg></div><p class="ml-16 text-lg leading-6 font-medium text-gray-900" data-v-a3c4ad82>Progress Tracking</p></dt><dd class="mt-2 ml-16 text-base text-gray-500" data-v-a3c4ad82> Monitor your academic progress with detailed analytics and insights. </dd></div><div class="relative" data-v-a3c4ad82><dt data-v-a3c4ad82><div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white" data-v-a3c4ad82><svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a3c4ad82><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-a3c4ad82></path></svg></div><p class="ml-16 text-lg leading-6 font-medium text-gray-900" data-v-a3c4ad82>Schedule Management</p></dt><dd class="mt-2 ml-16 text-base text-gray-500" data-v-a3c4ad82> Keep track of your classes, assignments, and important dates with our integrated calendar. </dd></div><div class="relative" data-v-a3c4ad82><dt data-v-a3c4ad82><div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white" data-v-a3c4ad82><svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a3c4ad82><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" data-v-a3c4ad82></path></svg></div><p class="ml-16 text-lg leading-6 font-medium text-gray-900" data-v-a3c4ad82>Communication Tools</p></dt><dd class="mt-2 ml-16 text-base text-gray-500" data-v-a3c4ad82> Stay connected with your instructors and peers through our integrated messaging system. </dd></div></dl></div></div></div><div class="bg-indigo-700" data-v-a3c4ad82><div class="max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8" data-v-a3c4ad82><h2 class="text-3xl font-extrabold text-white sm:text-4xl" data-v-a3c4ad82><span class="block" data-v-a3c4ad82>Ready to get started?</span><span class="block" data-v-a3c4ad82>Sign up for your dashboard today.</span></h2><p class="mt-4 text-lg leading-6 text-indigo-200" data-v-a3c4ad82> Join thousands of students who are already benefiting from our comprehensive student dashboard. </p><a href="#" class="mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-indigo-50 sm:w-auto" data-v-a3c4ad82> Sign up for free </a></div></div>',3)])))}},Ht=I(It,[["__scopeId","data-v-a3c4ad82"]]),Wt={class:"min-h-screen flex flex-col justify-center items-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},Yt={class:"max-w-md w-full space-y-10 bg-white p-10 rounded-xl shadow-lg"},Qt={class:"text-center"},Kt={class:"mt-2 text-center text-sm text-gray-600"},Zt={class:"space-y-6"},Jt={class:"relative"},Xt={class:"relative"},es={class:"flex items-center justify-between"},ts={class:"flex items-center"},ss=["disabled"],as={class:"absolute left-0 inset-y-0 flex items-center pl-3"},os={key:0,class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400 transition-colors duration-300",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},rs={key:1,class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ns={key:0,class:"mt-4 text-center text-sm text-red-600"},ls={__name:"LoginView",setup(d){const s=v(""),l=v(""),r=v(!1),o=v(""),g=v(!1),c=re(),f=J(),u=R(()=>s.value.trim()!==""&&l.value.trim()!==""),m=async()=>{if(!(g.value||!u.value)){g.value=!0,o.value="";try{const b=await c.login({username:s.value,password:l.value,rememberMe:r.value});console.log("Login result:",b),f.push("/dashboard")}catch(b){console.error("Login error details:",b),o.value=b.message||"An error occurred during login"}finally{g.value=!1}}};return(b,h)=>{const p=T("router-link");return t(),a("div",Wt,[e("div",Yt,[e("div",Qt,[h[5]||(h[5]=e("img",{class:"mx-auto h-16 w-auto",src:ae,alt:"Masaba Logo"},null,-1)),h[6]||(h[6]=e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Sign in to your account ",-1)),e("p",Kt,[h[4]||(h[4]=V(" Or ")),S(p,{to:"/register",class:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors duration-300"},{default:A(()=>h[3]||(h[3]=[V(" create an account ")])),_:1})])]),e("form",{onSubmit:X(m,["prevent"]),class:"mt-8 space-y-6"},[e("div",Zt,[e("div",Jt,[P(e("input",{id:"username",name:"username",type:"text",required:"","onUpdate:modelValue":h[0]||(h[0]=x=>s.value=x),class:"input-field",placeholder:" "},null,512),[[O,s.value]]),h[7]||(h[7]=e("label",{for:"username",class:"input-label"}," Username ",-1))]),e("div",Xt,[P(e("input",{id:"password",name:"password",type:"password",required:"","onUpdate:modelValue":h[1]||(h[1]=x=>l.value=x),class:"input-field",placeholder:" "},null,512),[[O,l.value]]),h[8]||(h[8]=e("label",{for:"password",class:"input-label"}," Password ",-1))])]),e("div",es,[e("div",ts,[P(e("input",{id:"remember-me",name:"remember-me",type:"checkbox","onUpdate:modelValue":h[2]||(h[2]=x=>r.value=x),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded transition-colors duration-300"},null,512),[[Ce,r.value]]),h[9]||(h[9]=e("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Remember me ",-1))]),h[10]||(h[10]=e("div",{class:"text-sm"},[e("a",{href:"#",class:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors duration-300"}," Forgot your password? ")],-1))]),e("div",null,[e("button",{type:"submit",disabled:!u.value||g.value,class:z([{"opacity-50 cursor-not-allowed":!u.value||g.value,"hover:bg-indigo-700":u.value&&!g.value},"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 shadow-md"])},[e("span",as,[g.value?(t(),a("svg",rs,h[12]||(h[12]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(t(),a("svg",os,h[11]||(h[11]=[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"},null,-1)])))]),V(" "+i(g.value?"Signing in...":"Sign in"),1)],10,ss)])],32),o.value?(t(),a("div",ns,i(o.value),1)):N("",!0)])])}}},is=I(ls,[["__scopeId","data-v-bd5cffda"]]),ds={props:{title:String,value:[String,Number],icon:String},setup(d){return{iconComponent:R(()=>{switch(d.icon){case"academic-cap":return se;case"user-group":return We;case"book-open":return ye;default:return null}})}}},cs={class:"bg-white rounded-lg shadow p-6"},us={class:"flex items-center"},ms={class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"},gs={class:"text-sm font-medium text-gray-500"},ps={class:"text-2xl font-semibold text-gray-900"};function vs(d,s,l,r,o,g){return t(),a("div",cs,[e("div",us,[e("div",ms,[(t(),U(te(r.iconComponent),{class:"w-6 h-6"}))]),e("div",null,[e("h3",gs,i(l.title),1),e("p",ps,i(l.value),1)])])])}const hs=I(ds,[["render",vs]]);me.register(Xe,et,tt,st,at);const fs={name:"PerformanceChart",props:{chartData:{type:Object,required:!0}},setup(d){const s=v(null);let l=null;const r=()=>{l&&l.destroy();const o=s.value.getContext("2d");l=new me(o,{type:"bar",data:d.chartData,options:{responsive:!0,maintainAspectRatio:!1,animation:!1,scales:{y:{beginAtZero:!0,max:100}},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",intersect:!1}}}})};return B(()=>{d.chartData.datasets[0].data.length>0&&r()}),oe(()=>d.chartData,o=>{o.datasets[0].data.length>0&&r()},{deep:!0}),Ae(()=>{l&&l.destroy()}),{chartCanvas:s}}},xs={ref:"chartCanvas"};function ys(d,s,l,r,o,g){return t(),a("canvas",xs,null,512)}const bs=I(fs,[["render",ys]]),_s={props:{type:{type:String,default:"text"}}},ws={class:"animate-pulse"},ks={key:0,class:"h-4 bg-gray-200 rounded w-3/4"},$s={key:1,class:"h-24 bg-gray-200 rounded"},Ss={key:2,class:"h-64 bg-gray-200 rounded"};function Cs(d,s,l,r,o,g){return t(),a("div",ws,[l.type==="text"?(t(),a("div",ks)):l.type==="card"?(t(),a("div",$s)):l.type==="chart"?(t(),a("div",Ss)):N("",!0)])}const W=I(_s,[["render",Cs]]),Q={getDashboard(d=null){const s=d?`student/dashboard/${d}/`:"student/dashboard/";return F.get(s)},getExamResults(d=null,s={}){const l=d?`student/exam-results/${d}/`:"student/exam-results/";return F.get(l,{params:s})},getAttendance(d=null,s={}){const l=d?`student/attendance/${d}/`:"student/attendance/";return F.get(l,{params:s})},getFees(d=null){const s=d?`student/fees/${d}/`:"student/fees/";return F.get(s)},getTimetable(d=null){const s=d?`student/timetable/${d}/`:"student/timetable/";return F.get(s)},getExams(d=null,s={}){const l=d?`student/exam-results/${d}/`:"student/exam-results/";return F.get(l,{params:s})},getAssignments(d=null,s={}){const l=d?`student/assignments/${d}/`:"student/assignments/";return F.get(l,{params:s})},getExamDetails(d){return F.get(`student/exam-results/${d}/`)},getAssignmentDetails(d){return F.get(`student/assignments/${d}/`)},getAssignment(d){return F.get(`student/assignments/${d}/`,{params:{page_size:1}})},submitAssignment(d,s){return F.post(`student/assignments/${d}/submit/`,s)},async getSubmission(d){try{return(await F.get(`student/assignments/${d}/submission/`)).data}catch(s){throw console.error("Error fetching submission:",s),s}},getGradedAssignments(){return F.get("student/graded-assignments/").then(d=>{if(console.log("API response:",d.data),d.data&&d.data.results&&Array.isArray(d.data.results))return d.data.results;throw console.error("Unexpected API response format:",d.data),new Error("Unexpected API response format")}).catch(d=>{throw console.error("API error:",d),console.error("Error response:",d.response),d})},getGradedAssignmentDetail(d){return F.get(`student/graded-assignments/${d}/`)}},As={components:{DashboardCard:hs,PerformanceChart:bs,SkeletonLoader:W},setup(){const d=v({}),s=v(!0),l=v(null),r=R(()=>{const m=d.value.performance_trend||[];return{labels:m.map(b=>o(b.date)),datasets:[{label:"Running Mean Score",data:m.map(b=>b.avg_score),backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]}}),o=m=>{if(!m)return"";const b={year:"numeric",month:"short"};return new Date(m).toLocaleDateString(void 0,b)},g=m=>m!==void 0?m.toFixed(2):"N/A",c=m=>({EE:"text-green-600",ME:"text-blue-600",AE:"text-yellow-600",BE:"text-red-600"})[m]||"text-gray-600",f=m=>m>=90?"text-green-600":m>=80?"text-blue-600":m>=70?"text-yellow-600":m>=60?"text-orange-600":"text-red-600",u=m=>m>=90?"bg-green-600":m>=80?"bg-blue-600":m>=70?"bg-yellow-600":m>=60?"bg-orange-600":"bg-red-600";return B(async()=>{try{const m=await Q.getDashboard();d.value=m.data,s.value=!1}catch(m){console.error("Error fetching dashboard data:",m),l.value="Failed to load dashboard data. Please try again later.",s.value=!1}}),{dashboardData:d,performanceTrendChartData:r,formatDate:o,formatNumber:g,gradeColorClass:c,isLoading:s,error:l,scoreColorClass:f,scoreBackgroundClass:u}}},Es={class:"dashboard bg-gray-100 min-h-screen p-6"},Ds={class:"max-w-7xl mx-auto"},Ls={class:"text-3xl font-bold text-gray-800 mb-6"},Ms={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},Fs={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},js={class:"bg-white rounded-lg shadow p-6"},Vs={key:0,class:"space-y-2"},Ps={class:"bg-white rounded-lg shadow p-6"},Ts={key:0},Us={class:"flex justify-between items-center mb-1"},zs={class:"text-sm font-medium text-gray-600"},Ns={class:"w-full bg-gray-200 rounded-full h-2"},Gs={key:1,class:"text-center text-gray-500 py-4"},Bs={key:2},qs={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},Os={class:"bg-white rounded-lg shadow p-6"},Rs={key:0,class:"space-y-2"},Is={class:"text-sm text-gray-500"},Hs={class:"bg-white rounded-lg shadow p-6"},Ws={key:0,class:"h-64"},Ys={key:1,class:"text-center text-gray-500"};function Qs(d,s,l,r,o,g){const c=T("SkeletonLoader"),f=T("DashboardCard"),u=T("PerformanceChart");return t(),a("div",Es,[e("div",Ds,[e("h1",Ls,[r.isLoading?(t(),U(c,{key:1,type:"text"})):(t(),a(D,{key:0},[V("Welcome, "+i(r.dashboardData.student_name),1)],64))]),e("div",Ms,[r.isLoading?N("",!0):(t(),U(f,{key:0,title:"Running Mean Score",value:r.formatNumber(r.dashboardData.gpa),icon:"academic-cap"},null,8,["value"])),r.isLoading?N("",!0):(t(),U(f,{key:1,title:"Attendance",value:r.formatNumber(r.dashboardData.attendance)+"%",icon:"user-group"},null,8,["value"])),r.isLoading?N("",!0):(t(),U(f,{key:2,title:"Subjects Taken",value:r.dashboardData.completed_courses,icon:"book-open"},null,8,["value"])),r.isLoading?(t(),a(D,{key:3},M(3,m=>S(c,{type:"card",key:m})),64)):N("",!0)]),e("div",Fs,[e("div",js,[s[0]||(s[0]=e("h2",{class:"text-xl font-semibold mb-4"},"Recent Grades",-1)),r.isLoading?(t(),a(D,{key:1},M(5,m=>S(c,{type:"text",key:m,class:"mb-2"})),64)):(t(),a("ul",Vs,[(t(!0),a(D,null,M(r.dashboardData.recent_grades,m=>(t(),a("li",{key:m.course,class:"flex justify-between items-center"},[e("span",null,i(m.course),1),e("span",{class:z(["font-semibold",r.gradeColorClass(m.grade)])},i(m.grade),3)]))),128))]))]),e("div",Ps,[s[2]||(s[2]=e("h2",{class:"text-xl font-semibold mb-4"},"Recent Subject Scores",-1)),!r.isLoading&&r.dashboardData.recent_scores.length>0?(t(),a("div",Ts,[(t(!0),a(D,null,M(r.dashboardData.recent_scores,m=>(t(),a("div",{key:m.subject,class:"mb-4"},[e("div",Us,[e("span",zs,i(m.subject),1),e("span",{class:z(["text-sm font-semibold",r.scoreColorClass(m.score)])},i(r.formatNumber(m.score))+"% ",3)]),e("div",Ns,[e("div",{class:z(["h-2 rounded-full",r.scoreBackgroundClass(m.score)]),style:Ee({width:`${m.score}%`})},null,6)])]))),128))])):!r.isLoading&&r.dashboardData.recent_scores.length===0?(t(),a("div",Gs," No recent scores available ")):(t(),a("div",Bs,[(t(),a(D,null,M(5,m=>e("div",{key:m,class:"mb-4 animate-pulse"},s[1]||(s[1]=[Y('<div class="flex justify-between items-center mb-1"><div class="h-4 bg-gray-200 rounded w-1/3"></div><div class="h-4 bg-gray-200 rounded w-16"></div></div><div class="w-full bg-gray-200 rounded-full h-2"><div class="h-2 bg-gray-300 rounded-full" style="width:70%;"></div></div>',2)]))),64))]))])]),e("div",qs,[e("div",Os,[s[3]||(s[3]=e("h2",{class:"text-xl font-semibold mb-4"},"Upcoming Events",-1)),r.isLoading?(t(),a(D,{key:1},M(3,m=>S(c,{type:"text",key:m,class:"mb-2"})),64)):(t(),a("ul",Rs,[(t(!0),a(D,null,M(r.dashboardData.upcoming_events,m=>(t(),a("li",{key:m.title,class:"flex justify-between items-center"},[e("span",null,i(m.title),1),e("span",Is,i(r.formatDate(m.date)),1)]))),128))]))]),e("div",Hs,[s[4]||(s[4]=e("h2",{class:"text-xl font-semibold mb-4"},"Performance Trend",-1)),!r.isLoading&&r.performanceTrendChartData.datasets[0].data.length>0?(t(),a("div",Ws,[S(u,{"chart-data":r.performanceTrendChartData},null,8,["chart-data"])])):r.isLoading?(t(),U(c,{key:2,type:"chart"})):(t(),a("p",Ys,"No performance data available"))])])])])}const Ks=I(As,[["render",Qs]]),Zs={setup(){const d=v([]),s=v([]),l=v(""),r=v(""),o=v(""),g=v(""),c=ge(),f=R(()=>{switch(c.theme){case"light":return"Switch to Dark Mode";case"dark":return"Switch to System Mode";default:return"Switch to Light Mode"}});function u(){switch(c.theme){case"light":c.theme="dark";break;case"dark":c.theme="system";break;default:c.theme="light"}}const m=async()=>{try{const x=await F.get("/grades/");d.value=x.data}catch(x){console.error("Error fetching grades:",x),alert("Failed to fetch grades. Please try again.")}},b=async()=>{if(l.value)try{const x=await F.get("/students/",{params:{grade_id:l.value}});s.value=x.data}catch(x){console.error("Error fetching students:",x),alert("Failed to fetch students. Please try again.")}else s.value=[]},h=async()=>{var x,j,n,y,C,L,$,_;if(p.value)try{await F.post("/register/student/",{grade_id:l.value,learner_id:r.value,username:o.value,password:g.value}),alert("Registration successful!")}catch(E){console.error("Registration failed:",E),((j=(x=E.response)==null?void 0:x.data)==null?void 0:j.error)==="Username already exists"?alert("This username is already taken. Please choose a different one."):((y=(n=E.response)==null?void 0:n.data)==null?void 0:y.error)==="Student record not found"?alert("No matching student record found. Please check your details."):((L=(C=E.response)==null?void 0:C.data)==null?void 0:L.error)==="This student already has an account"?alert("An account already exists for this student. Please log in instead."):alert("Registration failed: "+(((_=($=E.response)==null?void 0:$.data)==null?void 0:_.error)||"Unknown error"))}},p=R(()=>l.value&&r.value&&o.value.trim()!==""&&g.value.trim()!=="");return B(m),{grades:d,students:s,selectedGradeId:l,selectedLearnerId:r,username:o,password:g,fetchStudents:b,register:h,isFormValid:p,themeButtonText:f,toggleTheme:u,themeStore:c}}},Js={class:"registration-container bg-gray-100 dark:bg-gray-900 transition-colors duration-300"},Xs={class:"registration bg-white dark:bg-gray-800 shadow-lg"},ea={class:"form-group"},ta={class:"input-with-icon"},sa=["value"],aa={key:0,class:"form-group"},oa={class:"input-with-icon"},ra=["value"],na={class:"form-group"},la={class:"input-with-icon"},ia={class:"form-group"},da={class:"input-with-icon"},ca=["disabled"],ua={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ma={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"},ga={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"};function pa(d,s,l,r,o,g){return t(),a("div",Js,[s[19]||(s[19]=Y('<div class="vector-background" data-v-19368c23><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" data-v-19368c23><line class="vector-line" x1="0%" y1="50%" x2="100%" y2="50%" data-v-19368c23></line><line class="vector-line" x1="0%" y1="25%" x2="100%" y2="75%" data-v-19368c23></line><line class="vector-line" x1="0%" y1="75%" x2="100%" y2="25%" data-v-19368c23></line><line class="vector-line" x1="25%" y1="0%" x2="75%" y2="100%" data-v-19368c23></line><line class="vector-line" x1="75%" y1="0%" x2="25%" y2="100%" data-v-19368c23></line></svg></div>',1)),e("div",Xs,[s[18]||(s[18]=Y('<div class="auth-options bg-gray-200 dark:bg-gray-700" data-v-19368c23><a href="#" class="auth-link text-blue-600 dark:text-blue-400" data-v-19368c23><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5" data-v-19368c23><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" data-v-19368c23></path></svg> Forgot Password? </a><a href="/login" class="auth-link text-blue-600 dark:text-blue-400" data-v-19368c23><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5" data-v-19368c23><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75" data-v-19368c23></path></svg> Sign In </a></div><h2 class="text-gray-800 dark:text-gray-200" data-v-19368c23>Student Registration</h2>',2)),e("form",{onSubmit:s[5]||(s[5]=X((...c)=>r.register&&r.register(...c),["prevent"])),class:"registration-form"},[e("div",ea,[s[9]||(s[9]=e("label",{for:"grade-select",class:"text-gray-700 dark:text-gray-300"},"Select Grade:",-1)),e("div",ta,[s[8]||(s[8]=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"input-icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})],-1)),P(e("select",{id:"grade-select","onUpdate:modelValue":s[0]||(s[0]=c=>r.selectedGradeId=c),onChange:s[1]||(s[1]=(...c)=>r.fetchStudents&&r.fetchStudents(...c)),class:"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"},[s[7]||(s[7]=e("option",{value:""},"Please select a grade",-1)),(t(!0),a(D,null,M(r.grades,c=>(t(),a("option",{key:c.id,value:c.id},i(c.grade_name),9,sa))),128))],544),[[Z,r.selectedGradeId]])])]),r.students.length>0?(t(),a("div",aa,[s[12]||(s[12]=e("label",{for:"student-select"},"Select Student:",-1)),e("div",oa,[s[11]||(s[11]=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"input-icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1)),P(e("select",{id:"student-select","onUpdate:modelValue":s[2]||(s[2]=c=>r.selectedLearnerId=c)},[s[10]||(s[10]=e("option",{value:""},"Please select a student",-1)),(t(!0),a(D,null,M(r.students,c=>(t(),a("option",{key:c.learner_id,value:c.learner_id},i(c.name),9,ra))),128))],512),[[Z,r.selectedLearnerId]])])])):N("",!0),e("div",na,[s[14]||(s[14]=e("label",{for:"username"},"Username:",-1)),e("div",la,[s[13]||(s[13]=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"input-icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1)),P(e("input",{id:"username","onUpdate:modelValue":s[3]||(s[3]=c=>r.username=c),placeholder:"Enter username",required:""},null,512),[[O,r.username]])])]),e("div",ia,[s[16]||(s[16]=e("label",{for:"password"},"Password:",-1)),e("div",da,[s[15]||(s[15]=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"input-icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})],-1)),P(e("input",{id:"password","onUpdate:modelValue":s[4]||(s[4]=c=>r.password=c),type:"password",placeholder:"Enter password",required:""},null,512),[[O,r.password]])])]),e("button",{type:"submit",disabled:!r.isFormValid,class:"submit-button"},s[17]||(s[17]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})],-1),V(" Register ")]),8,ca)],32)]),e("button",{onClick:s[6]||(s[6]=(...c)=>r.toggleTheme&&r.toggleTheme(...c)),class:"theme-toggle"},[(t(),a("svg",ua,[r.themeStore.theme==="dark"?(t(),a("path",ma)):(t(),a("path",ga))]))])])}const va=I(Zs,[["render",pa],["__scopeId","data-v-19368c23"]]),ha={class:"subjects p-6 bg-gray-100 min-h-screen"},fa={class:"max-w-7xl mx-auto"},xa={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ya={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded",role:"alert"},ba={key:2,class:"text-center py-10"},_a={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},wa={class:"p-6"},ka={class:"text-xl font-semibold text-gray-800 mb-2"},$a={class:"text-sm text-gray-600 mb-2"},Sa={class:"text-sm text-gray-500 mb-4"},Ca={class:"text-gray-700 mb-4 h-20 overflow-y-auto"},Aa={class:"flex justify-between items-center"},Ea={class:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full"},Da=["onClick"],La={__name:"CoursesView",setup(d,{expose:s}){const l=v([]),r=v(!0),o=v(null),g=async()=>{r.value=!0,o.value=null;try{const f=await F.get("/student/courses/");l.value=f.data}catch(f){console.error("Error fetching subjects:",f),o.value="Failed to load subjects. Please try again."}finally{r.value=!1}},c=f=>{console.log(`Viewing details for subject ${f}`)};return B(g),s({fetchSubjects:g}),(f,u)=>(t(),a("div",ha,[e("div",fa,[u[3]||(u[3]=e("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"My Subjects",-1)),r.value?(t(),a("div",xa,[(t(),a(D,null,M(6,m=>e("div",{key:m,class:"bg-white rounded-lg shadow-md p-6 animate-pulse"},u[0]||(u[0]=[Y('<div class="h-4 bg-gray-200 rounded w-3/4 mb-4"></div><div class="h-3 bg-gray-200 rounded w-1/2 mb-2"></div><div class="h-3 bg-gray-200 rounded w-5/6 mb-4"></div><div class="h-20 bg-gray-200 rounded mb-4"></div><div class="flex justify-between items-center"><div class="h-8 bg-gray-200 rounded w-1/3"></div><div class="h-8 bg-gray-200 rounded w-1/3"></div></div>',5)]))),64))])):o.value?(t(),a("div",ya,[u[1]||(u[1]=e("p",{class:"font-bold"},"Error",-1)),e("p",null,i(o.value),1)])):l.value.length===0?(t(),a("div",ba,u[2]||(u[2]=[e("p",{class:"text-xl text-gray-600"},"No subjects available at the moment.",-1)]))):(t(),a("div",_a,[(t(!0),a(D,null,M(l.value,m=>(t(),a("div",{key:m.id,class:"bg-white rounded-lg shadow-md overflow-hidden transition duration-300 ease-in-out transform hover:scale-105"},[e("div",wa,[e("h2",ka,i(m.name),1),e("p",$a,"Teacher: "+i(m.instructor),1),e("p",Sa,"Code: "+i(m.code),1),e("p",Ca,i(m.description),1),e("div",Aa,[e("span",Ea,i(m.credits)+" credits ",1),e("button",{onClick:b=>c(m.id),class:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"}," View Details ",8,Da)])])]))),128))]))])]))}},Ma={class:"assignments p-6 bg-gray-100 min-h-screen"},Fa={class:"max-w-7xl mx-auto"},ja={key:0,class:"space-y-4"},Va={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded",role:"alert"},Pa={key:2,class:"text-center py-10"},Ta={key:3,class:"space-y-4"},Ua={class:"p-6"},za={class:"flex justify-between items-start mb-4"},Na={class:"text-xl font-semibold text-gray-800"},Ga={class:"text-gray-600 mb-4 prose max-w-none"},Ba={class:"flex justify-between items-center text-sm"},qa={class:"text-gray-500"},Oa=["onClick"],Ra={__name:"AssignmentsView",setup(d,{expose:s}){ve({}).use(fe);const r=v([]),o=v(!0),g=v(null),c=J(),f=async()=>{try{const p=await Q.getAssignments();r.value=p.data.results,console.log("Fetched assignments:",r.value)}catch(p){console.error("Error fetching assignments:",p),p.value="Failed to load assignments. Please try again."}finally{o.value=!1}},u=p=>{const x={year:"numeric",month:"long",day:"numeric"};return new Date(p).toLocaleDateString(void 0,x)},m=p=>{const x="px-2 py-1 rounded-full text-xs font-medium";if(!p)return`${x} bg-gray-100 text-gray-800`;switch(p.toLowerCase()){case"completed":return`${x} bg-green-100 text-green-800`;case"in progress":return`${x} bg-yellow-100 text-yellow-800`;case"pending":return`${x} bg-red-100 text-red-800`;default:return`${x} bg-gray-100 text-gray-800`}},b=p=>{if(!p)return"View Details";switch(p.toLowerCase()){case"pending":return"Start Assignment";case"submitted":return"View Submission";case"graded":return"View Grade";default:return"View Details"}},h=p=>{switch(p.status?p.status.toLowerCase():"unknown"){case"pending":c.push(`/assignments/${p.id}/submit`);break;case"submitted":c.push(`/assignments/${p.id}/submission`);break;case"graded":c.push(`/assignments/${p.id}/grade`);break;default:c.push(`/assignments/${p.id}`)}};return B(f),s({fetchAssignments:f}),(p,x)=>{const j=De("dompurify-html");return t(),a("div",Ma,[e("div",Fa,[x[3]||(x[3]=e("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"Assignments",-1)),o.value?(t(),a("div",ja,[(t(),a(D,null,M(3,n=>e("div",{key:n,class:"bg-white rounded-lg shadow-md p-6 animate-pulse"},x[0]||(x[0]=[Y('<div class="h-6 bg-gray-200 rounded w-3/4 mb-4"></div><div class="h-4 bg-gray-200 rounded w-1/2 mb-2"></div><div class="h-4 bg-gray-200 rounded w-5/6 mb-4"></div><div class="flex justify-between items-center"><div class="h-8 bg-gray-200 rounded w-1/4"></div><div class="h-8 bg-gray-200 rounded w-1/4"></div></div>',4)]))),64))])):g.value?(t(),a("div",Va,[x[1]||(x[1]=e("p",{class:"font-bold"},"Error",-1)),e("p",null,i(g.value),1)])):r.value.length===0?(t(),a("div",Pa,x[2]||(x[2]=[e("p",{class:"text-xl text-gray-600"},"No assignments available at the moment.",-1)]))):(t(),a("div",Ta,[(t(!0),a(D,null,M(r.value,n=>(t(),a("div",{key:n.id,class:"bg-white rounded-lg shadow-md overflow-hidden transition duration-300 ease-in-out hover:shadow-lg"},[e("div",Ua,[e("div",za,[e("h2",Na,i(n.title),1),e("span",{class:z(m(n.status))},i(n.status||"Unknown"),3)]),P(e("div",Ga,null,512),[[j,n.description]]),e("div",Ba,[e("span",qa," Due: "+i(u(n.due_date)),1),e("button",{onClick:y=>h(n),class:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out"},i(b(n.status)),9,Oa)])])]))),128))]))])])}}},Ia={class:"grades p-4 sm:p-6 md:p-8"},Ha={key:0,class:"flex justify-center items-center py-12"},Wa={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert"},Ya={key:2,class:"space-y-4"},Qa=["onClick"],Ka={class:"text-xl font-semibold text-gray-800"},Za={class:"text-sm text-gray-600"},Ja={class:"transition-all duration-300 ease-in-out"},Xa={class:"overflow-x-auto"},eo={class:"min-w-full divide-y divide-gray-200"},to={class:"bg-white divide-y divide-gray-200"},so={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ao={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},oo={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ro={class:"px-6 py-4 text-sm text-gray-500"},no={class:"bg-gray-50 px-6 py-4"},lo={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},io={class:"mt-1 text-lg font-semibold text-gray-900"},co={class:"mt-1 text-sm text-gray-700"},uo={__name:"GradesView",setup(d,{expose:s}){const l=v([]),r=v(!0),o=v(null),g=v(null),c=v(null),f=v(null),u=async()=>{try{const n=await F.get("/student/exam-results/");l.value=n.data}catch(n){console.error("Error fetching grades:",n),o.value="Failed to load grades. Please try again."}},m=async()=>{try{const n=await F.get("/school/info/");c.value=n.data}catch(n){console.error("Error fetching school info:",n)}},b=async()=>{try{const n=await F.get("/learner/info/");f.value=n.data}catch(n){console.error("Error fetching learner info:",n)}};B(async()=>{r.value=!0;try{await Promise.all([u(),m(),b()])}catch(n){console.error("Error initializing component:",n)}finally{r.value=!1}});const h=n=>{g.value===n?g.value=null:g.value=n},p=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),x=n=>({EE:"bg-green-100 text-green-800",ME:"bg-blue-100 text-blue-800",AE:"bg-yellow-100 text-yellow-800",BE:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",j=async()=>{if((!c.value||!f.value)&&await Promise.all([m(),b()]),!f.value){console.error("Learner information not available");return}const n=new Ze,y=n.internal.pageSize.width,C=n.internal.pageSize.height,L=(E,w,k=12,q="#000000")=>{n.setFontSize(k),n.setTextColor(q);const G=n.getStringUnitWidth(E)*k/n.internal.scaleFactor;n.text(E,(y-G)/2,w)},$=(E,w="#000000",k=.5)=>{n.setDrawColor(w),n.setLineWidth(k),n.line(20,E,y-20,E)};if(c.value.logo_url){const E=new Image;E.src=c.value.logo_url,E.onload=function(){n.addImage(this,"PNG",(y-60)/2,20,60,60)}}n.setTextColor("#4A90E2"),n.setFontSize(24),n.setFont("helvetica","bold"),L(c.value.name,100),n.setTextColor("#666666"),n.setFontSize(12),n.setFont("helvetica","normal"),L(c.value.address,110),$(120,"#4A90E2",1),n.setTextColor("#333333"),n.setFontSize(28),n.setFont("helvetica","bold"),L("Academic Performance",140),L("Report",155),n.setTextColor("#4A90E2"),n.setFontSize(16),L(`Academic Year ${new Date().getFullYear()}`,175),n.setTextColor("#333333"),n.setFontSize(20),n.setFont("helvetica","bold"),L(f.value.name,210),n.setTextColor("#666666"),n.setFontSize(14),n.setFont("helvetica","normal"),L(`Grade: ${f.value.grade}`,225),L(`Student ID: ${f.value.learner_id}`,235),n.setDrawColor("#4A90E2"),n.setLineWidth(2),n.line(20,C-40,y-20,C-40),n.setTextColor("#666666"),n.setFontSize(10),L(`Report generated on ${new Date().toLocaleDateString()}`,C-20),l.value.forEach((E,w)=>{n.addPage(),n.setFillColor("#4A90E2"),n.rect(0,0,y,30,"F"),n.setTextColor("#FFFFFF"),n.setFontSize(18),n.text(E.exam_type,10,20),n.setFontSize(12),n.text(`Date: ${p(E.date)}`,y-60,20),n.setTextColor("#000000"),n.setFontSize(12),n.text(`${f.value.name} - Grade ${f.value.grade}`,10,40),n.autoTable({head:[["Subject","Score","Grade","Comment"]],body:E.results.map(q=>[q.subject,q.score,q.grade,q.comment]),startY:50,styles:{fontSize:10},headStyles:{fillColor:[74,144,226],textColor:255},alternateRowStyles:{fillColor:[240,248,255]}});const k=n.lastAutoTable.finalY||50;n.setFontSize(14),n.setTextColor("#4A90E2"),n.text("Overall Performance",14,k+20),$(k+23,"#4A90E2"),n.setTextColor("#000000"),n.setFontSize(12),n.text(`Average Score: ${E.average_score.toFixed(2)}`,14,k+35),n.text(`Overall Grade: ${E.overall_grade}`,14,k+45),n.text("Overall Comment:",14,k+60),n.setFont("helvetica","italic"),n.text(E.overall_comment,14,k+70,{maxWidth:y-28}),n.setFont("helvetica","normal"),n.setFontSize(8),n.text(`${c.value.name} - Academic Report - Page ${w+2} of ${l.value.length+1}`,y/2,C-10,{align:"center"})}),c.value.principal_remark&&(n.addPage(),n.setFontSize(18),n.setTextColor("#4A90E2"),n.text("Principal's Remark",20,20),$(25,"#4A90E2"),n.setFontSize(12),n.setTextColor("#000000"),n.text(c.value.principal_remark,20,40,{maxWidth:y-40}));const _=f.value.name?`${f.value.name.replace(/\s+/g,"_")}_academic_report.pdf`:"academic_report.pdf";n.save(_)};return s({fetchGrades:u}),(n,y)=>(t(),a("div",Ia,[e("div",{class:"flex justify-between items-center mb-6"},[y[1]||(y[1]=e("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-800"},"My Academic Performance",-1)),e("button",{onClick:j,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex items-center"},y[0]||(y[0]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),V(" Export to PDF ")]))]),r.value?(t(),a("div",Ha,y[2]||(y[2]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"},null,-1)]))):o.value?(t(),a("div",Wa,[y[3]||(y[3]=e("p",{class:"font-bold"},"Error",-1)),e("p",null,i(o.value),1)])):(t(),a("div",Ya,[(t(!0),a(D,null,M(l.value,(C,L)=>(t(),a("div",{key:C.exam_type,class:"bg-white shadow-md rounded-lg overflow-hidden"},[e("div",{onClick:$=>h(L),class:"bg-gray-100 px-6 py-4 cursor-pointer flex justify-between items-center"},[e("div",null,[e("h2",Ka,i(C.exam_type),1),e("p",Za,i(p(C.date)),1)]),(t(),a("svg",{class:z([{"transform rotate-180":g.value===L},"w-6 h-6 transition-transform duration-200"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},y[4]||(y[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],8,Qa),P(e("div",Ja,[e("div",Xa,[e("table",eo,[y[5]||(y[5]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subject"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Score"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Grade"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Comment")])],-1)),e("tbody",to,[(t(!0),a(D,null,M(C.results,$=>(t(),a("tr",{key:$.subject,class:"hover:bg-gray-50"},[e("td",so,i($.subject),1),e("td",ao,i($.score),1),e("td",oo,[e("span",{class:z([x($.grade),"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full"])},i($.grade),3)]),e("td",ro,i($.comment),1)]))),128))])])]),e("div",no,[y[9]||(y[9]=e("h3",{class:"text-lg font-semibold text-gray-800 mb-2"},"Overall Performance",-1)),e("div",lo,[e("div",null,[y[6]||(y[6]=e("p",{class:"text-sm font-medium text-gray-500"},"Average Score",-1)),e("p",io,i(C.average_score.toFixed(2)),1)]),e("div",null,[y[7]||(y[7]=e("p",{class:"text-sm font-medium text-gray-500"},"Overall Grade",-1)),e("p",{class:z(["mt-1 text-lg font-semibold",x(C.overall_grade)])},i(C.overall_grade),3)]),e("div",null,[y[8]||(y[8]=e("p",{class:"text-sm font-medium text-gray-500"},"Overall Comment",-1)),e("p",co,i(C.overall_comment),1)])])])],512),[[ce,g.value===L]])]))),128))]))]))}},mo=I(uo,[["__scopeId","data-v-76ed790e"]]),go={class:"attendance p-6"},po={key:0,class:"text-center py-4"},vo={key:1,class:"text-red-500"},ho={key:2,class:"overflow-x-auto"},fo={class:"min-w-full bg-white"},xo={class:"px-6 py-4 whitespace-nowrap border-b border-gray-500"},yo={class:"px-6 py-4 whitespace-nowrap border-b border-gray-500"},bo={class:"px-6 py-4 whitespace-nowrap border-b border-gray-500"},_o={__name:"AttendanceView",setup(d,{expose:s}){const l=v([]),r=v(!0),o=v(null),g=async()=>{r.value=!0,o.value=null;try{const c=await F.get("/student/attendance/");l.value=c.data}catch(c){console.error("Error fetching attendance records:",c),o.value="Failed to load attendance records. Please try again."}finally{r.value=!1}};return B(g),s({fetchAttendanceRecords:g}),(c,f)=>(t(),a("div",go,[f[1]||(f[1]=e("h1",{class:"text-2xl font-bold mb-4"},"Attendance Record",-1)),r.value?(t(),a("div",po,"Loading attendance records...")):o.value?(t(),a("div",vo,i(o.value),1)):(t(),a("div",ho,[e("table",fo,[f[0]||(f[0]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 border-b-2 border-gray-300 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 border-b-2 border-gray-300 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Course "),e("th",{class:"px-6 py-3 border-b-2 border-gray-300 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Status ")])],-1)),e("tbody",null,[(t(!0),a(D,null,M(l.value,u=>(t(),a("tr",{key:u.id},[e("td",xo,i(new Date(u.date).toLocaleDateString()),1),e("td",yo,i(u.course_name),1),e("td",bo,i(u.status),1)]))),128))])])]))]))}},wo={class:"schedule p-6"},ko={key:0,class:"text-center py-4"},$o={key:1,class:"text-red-500"},So={key:2,class:"grid grid-cols-7 gap-4"},Co={class:"font-semibold"},Ao={class:"text-sm"},Eo={__name:"ScheduleView",setup(d,{expose:s}){const l=v([]),r=v(!0),o=v(null),g=async()=>{r.value=!0,o.value=null;try{const c=await F.get("/student/schedule/");l.value=c.data}catch(c){console.error("Error fetching schedule:",c),o.value="Failed to load schedule. Please try again."}finally{r.value=!1}};return B(g),s({fetchSchedule:g}),(c,f)=>(t(),a("div",wo,[f[0]||(f[0]=e("h1",{class:"text-2xl font-bold mb-4"},"My Schedule",-1)),r.value?(t(),a("div",ko,"Loading schedule...")):o.value?(t(),a("div",$o,i(o.value),1)):(t(),a("div",So,[(t(),a(D,null,M(["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],u=>e("div",{key:u,class:"font-bold text-center"},i(u),1)),64)),(t(!0),a(D,null,M(l.value,(u,m)=>(t(),a("div",{key:m,class:"border p-2 min-h-[100px]"},[(t(!0),a(D,null,M(u,b=>(t(),a("div",{key:b.id,class:"mb-2 p-1 bg-blue-100 rounded"},[e("p",Co,i(b.course_name),1),e("p",Ao,i(b.time),1)]))),128))]))),128))]))]))}},Do={class:"messages p-6"},Lo={key:0,class:"text-center py-4"},Mo={key:1,class:"text-red-500"},Fo={key:2,class:"space-y-4"},jo={class:"text-lg font-semibold"},Vo={class:"text-gray-600"},Po={class:"text-gray-600"},To={class:"mt-2"},Uo={__name:"MessagesView",setup(d,{expose:s}){const l=v([]),r=v(!0),o=v(null),g=async()=>{r.value=!0,o.value=null;try{const c=await F.get("/student/messages/");l.value=c.data}catch(c){console.error("Error fetching messages:",c),o.value="Failed to load messages. Please try again."}finally{r.value=!1}};return B(g),s({fetchMessages:g}),(c,f)=>(t(),a("div",Do,[f[0]||(f[0]=e("h1",{class:"text-2xl font-bold mb-4"},"Messages",-1)),r.value?(t(),a("div",Lo,"Loading messages...")):o.value?(t(),a("div",Mo,i(o.value),1)):(t(),a("div",Fo,[(t(!0),a(D,null,M(l.value,u=>(t(),a("div",{key:u.id,class:"bg-white p-4 rounded shadow"},[e("h2",jo,i(u.subject),1),e("p",Vo,"From: "+i(u.sender),1),e("p",Po,i(new Date(u.date).toLocaleString()),1),e("p",To,i(u.content),1)]))),128))]))]))}},zo={class:"resources p-6"},No={key:0,class:"text-center py-4"},Go={key:1,class:"text-red-500"},Bo={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},qo={class:"text-lg font-semibold"},Oo={class:"text-gray-600"},Ro={class:"mt-2"},Io=["href"],Ho={__name:"ResourcesView",setup(d,{expose:s}){const l=v([]),r=v(!0),o=v(null),g=async()=>{r.value=!0,o.value=null;try{const c=await F.get("/student/resources/");l.value=c.data}catch(c){console.error("Error fetching resources:",c),o.value="Failed to load resources. Please try again."}finally{r.value=!1}};return B(g),s({fetchResources:g}),(c,f)=>(t(),a("div",zo,[f[0]||(f[0]=e("h1",{class:"text-2xl font-bold mb-4"},"Learning Resources",-1)),r.value?(t(),a("div",No,"Loading resources...")):o.value?(t(),a("div",Go,i(o.value),1)):(t(),a("div",Bo,[(t(!0),a(D,null,M(l.value,u=>(t(),a("div",{key:u.id,class:"bg-white p-4 rounded shadow"},[e("h2",qo,i(u.title),1),e("p",Oo,i(u.type),1),e("p",Ro,i(u.description),1),e("a",{href:u.url,target:"_blank",class:"mt-2 inline-block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Access Resource ",8,Io)]))),128))]))]))}},Wo={class:"user-profile"},Yo={key:0},Qo={key:1},Ko={class:"form-group"},Zo={class:"form-group"},Jo=["value"],Xo={class:"form-group"},er={class:"form-group"},tr={class:"form-group"},sr={class:"form-group"},ar=["disabled"],or={key:3,class:"update-message"},rr={__name:"UserProfile",setup(d){const s=v({}),l=v([]),r=v(!0),o=v(null),g=v(!1),c=v(""),f=async()=>{try{const b=await F.get("/learner/profile/");s.value=b.data,r.value=!1}catch(b){console.error("Error fetching learner profile:",b),o.value="Failed to load learner profile. Please try again.",r.value=!1}},u=async()=>{try{const b=await F.get("/grades/");l.value=b.data}catch(b){console.error("Error fetching grades:",b)}},m=async()=>{g.value=!0,c.value="";try{await F.put("/learner/profile/",s.value),c.value="Profile updated successfully!"}catch(b){console.error("Error updating learner profile:",b),c.value="Failed to update profile. Please try again."}finally{g.value=!1}};return B(async()=>{await Promise.all([f(),u()])}),(b,h)=>(t(),a("div",Wo,[h[13]||(h[13]=e("h2",null,"Learner Profile",-1)),r.value?(t(),a("div",Yo,"Loading...")):o.value?(t(),a("div",Qo,i(o.value),1)):(t(),a("form",{key:2,onSubmit:X(m,["prevent"])},[e("div",Ko,[h[6]||(h[6]=e("label",{for:"name"},"Name:",-1)),P(e("input",{id:"name","onUpdate:modelValue":h[0]||(h[0]=p=>s.value.name=p),type:"text",required:""},null,512),[[O,s.value.name]])]),e("div",Zo,[h[7]||(h[7]=e("label",{for:"grade"},"Grade:",-1)),P(e("select",{id:"grade","onUpdate:modelValue":h[1]||(h[1]=p=>s.value.grade_id=p),required:""},[(t(!0),a(D,null,M(l.value,p=>(t(),a("option",{key:p.id,value:p.id},i(p.grade_name),9,Jo))),128))],512),[[Z,s.value.grade_id]])]),e("div",Xo,[h[8]||(h[8]=e("label",{for:"dob"},"Date of Birth:",-1)),P(e("input",{id:"dob","onUpdate:modelValue":h[2]||(h[2]=p=>s.value.date_of_birth=p),type:"date",required:""},null,512),[[O,s.value.date_of_birth]])]),e("div",er,[h[10]||(h[10]=e("label",{for:"gender"},"Gender:",-1)),P(e("select",{id:"gender","onUpdate:modelValue":h[3]||(h[3]=p=>s.value.gender=p),required:""},h[9]||(h[9]=[e("option",{value:"Male"},"Male",-1),e("option",{value:"Female"},"Female",-1)]),512),[[Z,s.value.gender]])]),e("div",tr,[h[11]||(h[11]=e("label",{for:"parent"},"Parent/Guardian Name:",-1)),P(e("input",{id:"parent","onUpdate:modelValue":h[4]||(h[4]=p=>s.value.name_of_parent=p),type:"text",required:""},null,512),[[O,s.value.name_of_parent]])]),e("div",sr,[h[12]||(h[12]=e("label",{for:"parent_contact"},"Parent/Guardian Contact:",-1)),P(e("input",{id:"parent_contact","onUpdate:modelValue":h[5]||(h[5]=p=>s.value.parent_contact=p),type:"tel",required:""},null,512),[[O,s.value.parent_contact]])]),e("button",{type:"submit",disabled:g.value},"Update Profile",8,ar)],32)),c.value?(t(),a("div",or,i(c.value),1)):N("",!0)]))}},nr=I(rr,[["__scopeId","data-v-30ee120d"]]),lr={class:"min-h-screen bg-gray-100"},ir={class:"py-12 px-4 sm:px-6 lg:px-8"},dr={class:"max-w-7xl mx-auto"},cr={class:"mt-10 grid gap-10 md:grid-cols-2 lg:grid-cols-3"},ur={class:"p-5"},mr={class:"flex items-center"},gr={class:"ml-3 text-lg leading-6 font-medium text-gray-900"},pr={class:"mt-2 text-base text-gray-500"},vr={__name:"AboutView",setup(d){const s=v([{name:"Comprehensive Learning Tools",description:"Access a wide range of resources to enhance your academic performance.",icon:se},{name:"Real-time Progress Tracking",description:"Monitor your grades and attendance with up-to-date information.",icon:xe},{name:"Efficient Time Management",description:"Organize your schedule and never miss important deadlines.",icon:Ye}]);return(l,r)=>(t(),a("div",lr,[e("div",ir,[e("div",dr,[r[0]||(r[0]=Y('<h1 class="text-4xl font-extrabold text-gray-900 text-center mb-8">About Masaba Student Dashboard</h1><div class="bg-white shadow overflow-hidden sm:rounded-lg"><div class="px-4 py-5 sm:px-6"><h2 class="text-3xl leading-6 font-medium text-gray-900">Our Mission</h2><p class="mt-1 max-w-2xl text-sm text-gray-500">Empowering students with seamless access to their academic journey.</p></div><div class="border-t border-gray-200 px-4 py-5 sm:p-0"><dl class="sm:divide-y sm:divide-gray-200"><div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"><dt class="text-sm font-medium text-gray-500">Founded</dt><dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">2023</dd></div><div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"><dt class="text-sm font-medium text-gray-500">Headquarters</dt><dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">Nairobi, Kenya</dd></div><div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"><dt class="text-sm font-medium text-gray-500">Students Served</dt><dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">10,000+</dd></div></dl></div></div>',2)),e("div",cr,[(t(!0),a(D,null,M(s.value,(o,g)=>(t(),a("div",{key:g,class:"bg-white overflow-hidden shadow rounded-lg"},[e("div",ur,[e("div",mr,[(t(),U(te(o.icon),{class:"h-6 w-6 text-indigo-600","aria-hidden":"true"})),e("h3",gr,i(o.name),1)]),e("p",pr,i(o.description),1)])]))),128))])])])]))}},hr={class:"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8"},fr={class:"max-w-7xl mx-auto"},xr={class:"bg-white shadow overflow-hidden sm:rounded-lg"},yr={class:"px-4 py-5 sm:p-6"},br={class:"mt-5 md:mt-0 md:col-span-2"},_r={class:"grid grid-cols-6 gap-6"},wr={class:"col-span-6 sm:col-span-3"},kr={class:"col-span-6 sm:col-span-3"},$r={class:"col-span-6 sm:col-span-4"},Sr={class:"col-span-6"},Cr={class:"mt-10 bg-white shadow overflow-hidden sm:rounded-lg"},Ar={class:"px-4 py-5 sm:p-6"},Er={class:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3"},Dr={class:"flex items-center"},Lr={class:"flex items-center"},Mr={class:"flex items-center"},Fr={__name:"ContactView",setup(d){const s=v({firstName:"",lastName:"",email:"",message:""}),l=()=>{console.log("Form submitted:",s.value)};return(r,o)=>(t(),a("div",hr,[e("div",fr,[o[14]||(o[14]=e("h1",{class:"text-4xl font-extrabold text-gray-900 text-center mb-8"},"Contact Us",-1)),e("div",xr,[e("div",yr,[o[9]||(o[9]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Send us a message",-1)),e("div",br,[e("form",{onSubmit:X(l,["prevent"])},[e("div",_r,[e("div",wr,[o[4]||(o[4]=e("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"First name",-1)),P(e("input",{type:"text",name:"first-name",id:"first-name","onUpdate:modelValue":o[0]||(o[0]=g=>s.value.firstName=g),autocomplete:"given-name",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[O,s.value.firstName]])]),e("div",kr,[o[5]||(o[5]=e("label",{for:"last-name",class:"block text-sm font-medium text-gray-700"},"Last name",-1)),P(e("input",{type:"text",name:"last-name",id:"last-name","onUpdate:modelValue":o[1]||(o[1]=g=>s.value.lastName=g),autocomplete:"family-name",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[O,s.value.lastName]])]),e("div",$r,[o[6]||(o[6]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email address",-1)),P(e("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":o[2]||(o[2]=g=>s.value.email=g),autocomplete:"email",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[O,s.value.email]])]),e("div",Sr,[o[7]||(o[7]=e("label",{for:"message",class:"block text-sm font-medium text-gray-700"},"Message",-1)),P(e("textarea",{id:"message",name:"message","onUpdate:modelValue":o[3]||(o[3]=g=>s.value.message=g),rows:"3",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[O,s.value.message]])])]),o[8]||(o[8]=e("div",{class:"mt-5"},[e("button",{type:"submit",class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Send Message ")],-1))],32)])])]),e("div",Cr,[e("div",Ar,[o[13]||(o[13]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Other ways to reach us",-1)),e("div",Er,[e("div",Dr,[S(H(Qe),{class:"flex-shrink-0 h-6 w-6 text-gray-400","aria-hidden":"true"}),o[10]||(o[10]=e("span",{class:"ml-3 text-base text-gray-500"},"+1 (555) 123-4567",-1))]),e("div",Lr,[S(H(be),{class:"flex-shrink-0 h-6 w-6 text-gray-400","aria-hidden":"true"}),o[11]||(o[11]=e("span",{class:"ml-3 text-base text-gray-500"},"support@masabadashboard.com",-1))]),e("div",Mr,[S(H(Ke),{class:"flex-shrink-0 h-6 w-6 text-gray-400","aria-hidden":"true"}),o[12]||(o[12]=e("span",{class:"ml-3 text-base text-gray-500"},"123 Education St, Nairobi, Kenya",-1))])])])])])]))}},jr={class:"exams p-6 bg-gray-100 min-h-screen"},Vr={class:"max-w-7xl mx-auto"},Pr={class:"flex justify-between items-center mb-8"},Tr={key:0,class:"space-y-4"},Ur={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-lg",role:"alert"},zr={key:2,class:"text-center py-10"},Nr={key:3,class:"space-y-8"},Gr={class:"p-6"},Br=["onClick"],qr={class:"text-3xl font-semibold text-gray-800"},Or={class:"flex items-center"},Rr={class:"text-sm font-medium text-gray-600 mr-4"},Ir={class:"text-xl text-gray-700 mb-4"},Hr={class:"mt-6"},Wr={class:"bg-gray-50 rounded-lg p-6 mb-6"},Yr={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Qr={class:"bg-white rounded-lg p-4 shadow"},Kr={class:"bg-white rounded-lg p-4 shadow"},Zr={class:"bg-white rounded-lg p-4 shadow"},Jr={class:"text-lg text-gray-700"},Xr={class:"overflow-x-auto bg-white rounded-lg shadow"},en={class:"min-w-full divide-y divide-gray-200"},tn={class:"bg-white divide-y divide-gray-200"},sn={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},an={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},on={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},rn={class:"px-6 py-4 text-sm text-gray-500"},nn={class:"mt-6 flex space-x-4"},ln=["onClick"],dn=["onClick"],cn={__name:"ExamsView",setup(d,{expose:s}){const l=v([]),r=v(!0),o=v(null),g=v(null),c=v("");v("");const f=n=>new Promise((y,C)=>{const L=new Image;L.crossOrigin="Anonymous",L.onload=()=>{const $=document.createElement("canvas"),_=$.getContext("2d");$.height=L.naturalHeight,$.width=L.naturalWidth,_.drawImage(L,0,0);const E=$.toDataURL();y(E)},L.onerror=$=>C($),L.src=n});B(async()=>{try{c.value=await f(ae)}catch(n){console.error("Failed to convert school logo to data URL:",n)}});const u=async()=>{try{const n=await Q.getExams();l.value=n.data,l.value.length>0&&(g.value=l.value[0].exam_id)}catch(n){console.error("Error fetching exams:",n),n.value="Failed to load exam results. Please try again."}finally{r.value=!1}},m=n=>{g.value===n?g.value=null:g.value=n},b=n=>{if(!n)return"N/A";const y={year:"numeric",month:"long",day:"numeric"};return new Date(n).toLocaleDateString(void 0,y)},h=n=>n!==null?n.toFixed(2):"N/A",p=n=>n===null?"text-gray-500":n>=80?"text-green-600":n>=65?"text-blue-600":n>=50?"text-yellow-600":"text-red-600",x=n=>{switch(n){case"EE":return"bg-green-100 text-green-800";case"ME":return"bg-blue-100 text-blue-800";case"AE":return"bg-yellow-100 text-yellow-800";case"BE":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=n=>{console.log(`Viewing details for exam ${n}`)};return B(u),s({fetchExams:u}),(n,y)=>(t(),a("div",jr,[e("div",Vr,[e("div",Pr,[y[2]||(y[2]=e("h1",{class:"text-4xl font-bold text-gray-800"},"Exam Results",-1)),e("button",{onClick:y[0]||(y[0]=(...C)=>n.exportAllExamsToPDF&&n.exportAllExamsToPDF(...C)),class:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out flex items-center"},y[1]||(y[1]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),V(" Export All to PDF ")]))]),r.value?(t(),a("div",Tr,[(t(),a(D,null,M(3,C=>e("div",{key:C,class:"bg-white rounded-xl shadow-md p-6 animate-pulse"},y[3]||(y[3]=[Y('<div class="h-8 bg-gray-200 rounded w-3/4 mb-4"></div><div class="h-6 bg-gray-200 rounded w-1/2 mb-2"></div><div class="h-6 bg-gray-200 rounded w-5/6 mb-4"></div><div class="flex justify-between items-center"><div class="h-10 bg-gray-200 rounded w-1/4"></div><div class="h-10 bg-gray-200 rounded w-1/4"></div></div>',4)]))),64))])):o.value?(t(),a("div",Ur,[y[4]||(y[4]=e("p",{class:"font-bold"},"Error",-1)),e("p",null,i(o.value),1)])):l.value.length===0?(t(),a("div",zr,y[5]||(y[5]=[e("p",{class:"text-2xl text-gray-600"},"No exam results available at the moment.",-1)]))):(t(),a("div",Nr,[(t(!0),a(D,null,M(l.value,C=>(t(),a("div",{key:C.exam_id,class:"bg-white rounded-xl shadow-lg overflow-hidden transition duration-300 ease-in-out hover:shadow-xl"},[e("div",Gr,[e("div",{onClick:L=>m(C.exam_id),class:"flex justify-between items-center mb-4 cursor-pointer"},[e("h2",qr,i(C.exam_type),1),e("div",Or,[e("span",Rr,i(b(C.date)),1),(t(),a("svg",{class:z([{"transform rotate-180":g.value===C.exam_id},"w-6 h-6 text-indigo-600 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},y[6]||(y[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])],8,Br),e("p",Ir,"Term: "+i(C.term),1),P(e("div",Hr,[e("div",Wr,[y[10]||(y[10]=e("h3",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Results Summary",-1)),e("div",Yr,[e("div",Qr,[y[7]||(y[7]=e("p",{class:"text-sm font-medium text-gray-500"},"Average Score",-1)),e("p",{class:z([p(C.average_score),"text-3xl font-bold"])},i(h(C.average_score)),3)]),e("div",Kr,[y[8]||(y[8]=e("p",{class:"text-sm font-medium text-gray-500"},"Overall Grade",-1)),e("p",{class:z([x(C.overall_grade),"text-3xl font-bold"])},i(C.overall_grade),3)]),e("div",Zr,[y[9]||(y[9]=e("p",{class:"text-sm font-medium text-gray-500"},"Overall Comment",-1)),e("p",Jr,i(C.overall_comment),1)])])]),e("div",Xr,[e("table",en,[y[11]||(y[11]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subject"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Score"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Grade"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Comment")])],-1)),e("tbody",tn,[(t(!0),a(D,null,M(C.results,L=>(t(),a("tr",{key:L.subject},[e("td",sn,i(L.subject),1),e("td",an,[e("span",{class:z([p(L.score),"font-semibold"])},i(h(L.score)),3)]),e("td",on,[e("span",{class:z([x(L.grade),"px-2 py-1 rounded-full text-xs font-medium"])},i(L.grade),3)]),e("td",rn,i(L.teacher_comment||"No comment"),1)]))),128))])])]),e("div",nn,[e("button",{onClick:L=>j(C.exam_id),class:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow transition duration-300 ease-in-out flex items-center"},y[12]||(y[12]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),V(" View Details ")]),8,ln),e("button",{onClick:L=>n.exportSingleExamToPDF(C),class:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg shadow transition duration-300 ease-in-out flex items-center"},y[13]||(y[13]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),V(" Export This Exam ")]),8,dn)])],512),[[ce,g.value===C.exam_id]])])]))),128))]))])]))}},un={class:"assignment-submit p-6 bg-gray-100 min-h-screen"},mn={class:"max-w-3xl mx-auto bg-white rounded-lg shadow-md p-6"},gn={key:0,class:"text-center py-4"},pn={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert"},vn={key:2},hn={class:"text-xl font-semibold mb-2"},fn=["innerHTML"],xn={class:"text-sm text-gray-500 mb-6"},yn={class:"text-lg font-medium mb-2"},bn={key:0,class:"space-y-2"},_n=["name","value","onUpdate:modelValue"],wn={key:1,class:"space-y-2"},kn={class:"flex items-center"},$n=["name","onUpdate:modelValue"],Sn={class:"flex items-center"},Cn=["name","onUpdate:modelValue"],An={key:2},En=["onUpdate:modelValue"],Dn=["disabled"],Ln={__name:"AssignmentSubmitView",setup(d){const s=ue(),l=J(),r=v(null),o=v({}),g=v(!0),c=v(!1),f=v(null),u=async()=>{const h=s.params.id;try{const p=await Q.getAssignment(h);p.data.results&&p.data.results.length>0?r.value=p.data.results.find(x=>x.id===parseInt(h))||p.data.results[0]:f.value="Assignment not found.",console.log("Fetched assignment:",r.value)}catch(p){console.error("Error fetching assignment:",p),f.value="Failed to load assignment details. Please try again."}finally{g.value=!1}},m=async()=>{const h=r.value.objective_questions.filter(p=>!o.value[p.id]);if(h.length>0){alert(`Please answer all questions before submitting. Unanswered questions: ${h.map(p=>p.id).join(", ")}`);return}c.value=!0;try{await Q.submitAssignment(r.value.id,{responses:o.value}),alert("Assignment submitted successfully!"),l.push("/assignments")}catch(p){console.error("Error submitting assignment:",p),f.value="Failed to submit assignment. Please try again."}finally{c.value=!1}},b=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return B(u),(h,p)=>(t(),a("div",un,[e("div",mn,[p[4]||(p[4]=e("h1",{class:"text-2xl font-bold text-gray-800 mb-6"},"Submit Assignment",-1)),g.value?(t(),a("div",gn,p[0]||(p[0]=[e("p",{class:"text-gray-600"},"Loading assignment details...",-1)]))):f.value?(t(),a("div",pn,[p[1]||(p[1]=e("p",{class:"font-bold"},"Error",-1)),e("p",null,i(f.value),1)])):r.value?(t(),a("div",vn,[e("h2",hn,i(r.value.title),1),e("div",{class:"text-gray-600 mb-4",innerHTML:r.value.description},null,8,fn),e("p",xn,"Due: "+i(b(r.value.due_date)),1),e("form",{onSubmit:X(m,["prevent"])},[(t(!0),a(D,null,M(r.value.objective_questions,x=>(t(),a("div",{key:x.id,class:"mb-6"},[e("h3",yn,i(x.question_text),1),x.question_type==="multiple_choice"?(t(),a("div",bn,[(t(),a(D,null,M(["A","B","C","D"],j=>e("label",{key:j,class:"flex items-center"},[P(e("input",{type:"radio",name:`question_${x.id}`,value:j,"onUpdate:modelValue":n=>o.value[x.id]=n,class:"mr-2"},null,8,_n),[[ie,o.value[x.id]]]),e("span",null,i(x[`option_${j.toLowerCase()}`]),1)])),64))])):x.question_type==="true_false"?(t(),a("div",wn,[e("label",kn,[P(e("input",{type:"radio",name:`question_${x.id}`,value:"True","onUpdate:modelValue":j=>o.value[x.id]=j,class:"mr-2"},null,8,$n),[[ie,o.value[x.id]]]),p[2]||(p[2]=e("span",null,"True",-1))]),e("label",Sn,[P(e("input",{type:"radio",name:`question_${x.id}`,value:"False","onUpdate:modelValue":j=>o.value[x.id]=j,class:"mr-2"},null,8,Cn),[[ie,o.value[x.id]]]),p[3]||(p[3]=e("span",null,"False",-1))])])):x.question_type==="short_answer"?(t(),a("div",An,[P(e("textarea",{"onUpdate:modelValue":j=>o.value[x.id]=j,rows:"3",class:"w-full p-2 border rounded"},null,8,En),[[O,o.value[x.id]]])])):N("",!0)]))),128)),e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",disabled:c.value},i(c.value?"Submitting...":"Submit Assignment"),9,Dn)],32)])):N("",!0)])]))}},Mn={class:"submission-view"},Fn={key:1,class:"mt-2"},jn={__name:"SubmissionView",setup(d){const s=ue(),l=v(null),r=v(!0),o=v(null);B(async()=>{try{const f=s.params.id;l.value=await Q.getSubmission(f),r.value=!1}catch(f){o.value="Failed to load submission. Please try again.",r.value=!1,console.error("Error fetching submission:",f)}});const g=f=>new Date(f).toLocaleString(),c=f=>{switch(f.toLowerCase()){case"submitted":return"info";case"graded":return"success";default:return"warning"}};return(f,u)=>{const m=T("v-card-title"),b=T("v-progress-circular"),h=T("v-alert"),p=T("v-list-item-title"),x=T("v-list-item-subtitle"),j=T("v-list-item-content"),n=T("v-list-item"),y=T("v-divider"),C=T("v-chip"),L=T("v-list"),$=T("v-expansion-panel-header"),_=T("v-card-text"),E=T("v-card"),w=T("v-expansion-panel-content"),k=T("v-expansion-panel"),q=T("v-expansion-panels"),G=T("v-col"),ne=T("v-row"),ke=T("v-container");return t(),a("div",Mn,[S(ke,null,{default:A(()=>[S(ne,{justify:"center"},{default:A(()=>[S(G,{cols:"12",md:"8"},{default:A(()=>[S(E,{class:"elevation-3"},{default:A(()=>[S(m,{class:"text-h4 font-weight-bold primary white--text py-4"},{default:A(()=>u[0]||(u[0]=[V(" Assignment Submission ")])),_:1}),S(_,null,{default:A(()=>[r.value?(t(),U(b,{key:0,indeterminate:"",color:"primary",size:"64",class:"ma-4"})):o.value?(t(),U(h,{key:1,type:"error",class:"mt-4"},{default:A(()=>[V(i(o.value),1)]),_:1})):l.value?(t(),a(D,{key:2},[S(L,null,{default:A(()=>[S(n,null,{default:A(()=>[S(j,null,{default:A(()=>[S(p,{class:"text-subtitle-1"},{default:A(()=>u[1]||(u[1]=[V("Submitted on")])),_:1}),S(x,null,{default:A(()=>[V(i(g(l.value.submitted_at)),1)]),_:1})]),_:1})]),_:1}),S(y),S(n,null,{default:A(()=>[S(j,null,{default:A(()=>[S(p,{class:"text-subtitle-1"},{default:A(()=>u[2]||(u[2]=[V("Status")])),_:1}),S(x,null,{default:A(()=>[S(C,{color:c(l.value.status),small:""},{default:A(()=>[V(i(l.value.status),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),S(y),S(n,null,{default:A(()=>[S(j,null,{default:A(()=>[S(p,{class:"text-subtitle-1"},{default:A(()=>u[3]||(u[3]=[V("Score")])),_:1}),S(x,null,{default:A(()=>[l.value.score!==null?(t(),U(C,{key:0,color:"success",small:""},{default:A(()=>[V(i(l.value.score),1)]),_:1})):(t(),U(C,{key:1,color:"warning",small:""},{default:A(()=>u[4]||(u[4]=[V(" Not graded yet ")])),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),l.value.question_responses&&l.value.question_responses.length>0?(t(),U(q,{key:0,class:"mt-6"},{default:A(()=>[(t(!0),a(D,null,M(l.value.question_responses,(K,pe)=>(t(),U(k,{key:pe},{default:A(()=>[S($,null,{default:A(()=>[V(" Question "+i(pe+1),1)]),_:2},1024),S(w,null,{default:A(()=>[S(E,{flat:""},{default:A(()=>[S(_,null,{default:A(()=>[u[6]||(u[6]=e("p",{class:"text-subtitle-1 font-weight-bold"},"Question:",-1)),e("p",null,i(K.question),1),u[7]||(u[7]=e("p",{class:"text-subtitle-1 font-weight-bold mt-4"},"Your Answer:",-1)),e("p",null,i(K.answer),1),K.is_correct!==null?(t(),U(C,{key:0,color:K.is_correct?"success":"error",class:"mt-2",small:""},{default:A(()=>[V(i(K.is_correct?"Correct":"Incorrect"),1)]),_:2},1032,["color"])):N("",!0),K.score!==null?(t(),a("p",Fn,[u[5]||(u[5]=e("strong",null,"Score:",-1)),V(" "+i(K.score),1)])):N("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(t(),U(h,{key:1,type:"info",class:"mt-4"},{default:A(()=>u[8]||(u[8]=[V(" No question responses found. ")])),_:1}))],64)):(t(),U(h,{key:3,type:"warning",class:"mt-4"},{default:A(()=>u[9]||(u[9]=[V(" No submission found. ")])),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},Vn=I(jn,[["__scopeId","data-v-c6b79756"]]),Pn={class:"graded-assignments p-6 bg-gray-50 min-h-screen"},Tn={class:"max-w-6xl mx-auto"},Un={key:0},zn={class:"mb-8"},Nn={class:"mt-4 space-y-2"},Gn={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-md shadow",role:"alert"},Bn={key:2,class:"text-center py-12"},qn={key:3},On={class:"mb-6 flex flex-wrap justify-between items-center gap-4"},Rn={class:"flex space-x-4"},In={class:"mb-8"},Hn={class:"space-y-8"},Wn={class:"px-6 py-4 bg-gradient-to-r from-blue-500 to-indigo-600"},Yn={class:"text-xl font-semibold text-white"},Qn={class:"text-sm text-blue-100"},Kn={class:"px-6 py-4"},Zn={class:"flex items-center justify-between mb-4"},Jn={key:0,class:"mb-6"},Xn={class:"text-gray-600 bg-gray-50 p-3 rounded-md"},el={key:1},tl=["onClick"],sl={class:"space-y-4"},al={class:"font-medium text-gray-800 mb-2"},ol={class:"grid grid-cols-2 gap-4"},rl={class:"text-gray-700"},nl={class:"text-gray-700"},ll={class:"mt-8 flex justify-center"},il={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},dl=["disabled"],cl=["onClick"],ul=["disabled"],de=5,ml={__name:"GradedAssignmentsView",setup(d){const s=v([]),l=v(!0),r=v(null),o=v("all"),g=v("dateDesc"),c=v(""),f=v([]),u=v(1),m=v(null);let b=null;J();const h=async()=>{l.value=!0,r.value=null;try{const $=await Q.getGradedAssignments();s.value=$,console.log("Graded assignments:",s.value)}catch($){console.error("Error fetching graded assignments:",$),r.value="Failed to load graded assignments. Please try again."}finally{l.value=!1}},p=R(()=>{let $=[...s.value];if(o.value==="recent"){const _=new Date(Date.now()-2592e6);$=$.filter(E=>new Date(E.submitted_at)>=_)}else o.value==="highScore"&&($=$.filter(_=>_.score>=90));if(c.value){const _=c.value.toLowerCase();$=$.filter(E=>E.assignment_title.toLowerCase().includes(_))}return $.sort((_,E)=>{if(g.value==="dateDesc")return new Date(E.submitted_at)-new Date(_.submitted_at);if(g.value==="dateAsc")return new Date(_.submitted_at)-new Date(E.submitted_at);if(g.value==="scoreDesc")return E.score-_.score;if(g.value==="scoreAsc")return _.score-E.score}),$}),x=R(()=>{const $=(u.value-1)*de,_=$+de;return p.value.slice($,_)}),j=R(()=>Math.ceil(p.value.length/de)),n=$=>$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",y=$=>$>=90?"text-green-600":$>=80?"text-blue-600":$>=70?"text-yellow-600":"text-red-600",C=$=>{const _=f.value.indexOf($);_===-1?f.value.push($):f.value.splice(_,1)},L=()=>{if(!m.value){console.warn("Chart canvas not found");return}b&&b.destroy();const $=m.value.getContext("2d"),_=s.value.map(w=>w.assignment_title),E=s.value.map(w=>w.score);b=new me($,{type:"line",data:{labels:_,datasets:[{label:"Assignment Scores",data:E,borderColor:"rgb(59, 130, 246)",tension:.1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,max:100}}}})};return oe([o,g,c],()=>{u.value=1}),B(async()=>{await h(),r.value||L()}),($,_)=>{const E=T("router-link");return t(),a("div",Pn,[e("div",Tn,[_[17]||(_[17]=e("h1",{class:"text-3xl font-bold text-gray-800 mb-8"},"Graded Assignments",-1)),l.value?(t(),a("div",Un,[e("div",zn,[S(W,{type:"chart"})]),(t(),a(D,null,M(3,w=>e("div",{key:w,class:"mb-8"},[S(W,{type:"card"}),e("div",Nn,[S(W,{type:"text"}),S(W,{type:"text"}),S(W,{type:"text"})])])),64))])):r.value?(t(),a("div",Gn,[_[5]||(_[5]=e("p",{class:"font-bold"},"Error",-1)),e("p",null,i(r.value),1)])):p.value.length?(t(),a("div",qn,[e("div",On,[e("div",Rn,[P(e("select",{"onUpdate:modelValue":_[0]||(_[0]=w=>o.value=w),class:"form-select rounded-md shadow-sm"},_[7]||(_[7]=[e("option",{value:"all"},"All Assignments",-1),e("option",{value:"recent"},"Recent (Last 30 days)",-1),e("option",{value:"highScore"},"High Scores (90%+)",-1)]),512),[[Z,o.value]]),P(e("select",{"onUpdate:modelValue":_[1]||(_[1]=w=>g.value=w),class:"form-select rounded-md shadow-sm"},_[8]||(_[8]=[e("option",{value:"dateDesc"},"Date (Newest First)",-1),e("option",{value:"dateAsc"},"Date (Oldest First)",-1),e("option",{value:"scoreDesc"},"Score (Highest First)",-1),e("option",{value:"scoreAsc"},"Score (Lowest First)",-1)]),512),[[Z,g.value]])]),P(e("input",{"onUpdate:modelValue":_[2]||(_[2]=w=>c.value=w),type:"text",placeholder:"Search assignments...",class:"form-input rounded-md shadow-sm"},null,512),[[O,c.value]])]),e("div",In,[_[9]||(_[9]=e("h2",{class:"text-xl font-semibold mb-4"},"Performance Overview",-1)),e("canvas",{ref_key:"chartRef",ref:m,width:"400",height:"200"},null,512)]),e("div",Hn,[(t(!0),a(D,null,M(x.value,w=>(t(),a("div",{key:w.id,class:"bg-white rounded-lg shadow-md overflow-hidden"},[e("div",Wn,[e("h2",Yn,i(w.assignment_title),1),e("p",Qn,"Submitted: "+i(n(w.submitted_at)),1)]),e("div",Kn,[e("div",Zn,[_[10]||(_[10]=e("span",{class:"text-lg font-medium text-gray-700"},"Score:",-1)),e("span",{class:z(["text-2xl font-bold",y(w.score)])},i(w.score)+"%",3)]),w.feedback?(t(),a("div",Jn,[_[11]||(_[11]=e("h3",{class:"text-lg font-medium text-gray-700 mb-2"},"Feedback:",-1)),e("p",Xn,i(w.feedback),1)])):N("",!0),w.question_responses&&w.question_responses.length>0?(t(),a("div",el,[e("h3",{onClick:k=>C(w.id),class:"text-lg font-medium text-gray-700 mb-4 cursor-pointer flex items-center"},[_[13]||(_[13]=e("span",null,"Questions and Answers",-1)),(t(),a("svg",{class:z([{"rotate-180":f.value.includes(w.id)},"ml-2 h-5 w-5 transform transition-transform duration-200"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},_[12]||(_[12]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))],8,tl),P(e("div",sl,[(t(!0),a(D,null,M(w.question_responses,(k,q)=>(t(),a("div",{key:q,class:"border-b border-gray-200 pb-4 last:border-b-0 last:pb-0"},[e("p",al,"Q"+i(q+1)+": "+i(k.question_text),1),e("div",ol,[e("div",null,[_[14]||(_[14]=e("p",{class:"text-sm text-gray-500"},"Your answer:",-1)),e("p",rl,i(k.answer),1)]),e("div",null,[_[15]||(_[15]=e("p",{class:"text-sm text-gray-500"},"Correct answer:",-1)),e("p",nl,i(k.correct_answer),1)])]),e("p",{class:z([k.is_correct?"text-green-600":"text-red-600","mt-2 font-medium"])},i(k.is_correct?"Correct":"Incorrect")+" (Score: "+i(k.score)+") ",3)]))),128))],512),[[ce,f.value.includes(w.id)]])])):N("",!0)]),S(E,{to:{name:"GradedAssignmentDetail",params:{id:w.id}},class:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:A(()=>_[16]||(_[16]=[V(" View Details ")])),_:2},1032,["to"])]))),128))]),e("div",ll,[e("nav",il,[e("button",{onClick:_[3]||(_[3]=w=>u.value--),disabled:u.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"}," Previous ",8,dl),(t(!0),a(D,null,M(j.value,w=>(t(),a("button",{key:w,onClick:k=>u.value=w,class:z([{"bg-blue-50 border-blue-500 text-blue-600":u.value===w},"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"])},i(w),11,cl))),128)),e("button",{onClick:_[4]||(_[4]=w=>u.value++),disabled:u.value===j.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"}," Next ",8,ul)])])])):(t(),a("div",Bn,_[6]||(_[6]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No graded assignments",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"You don't have any graded assignments yet.",-1)])))])])}}},gl={class:"graded-assignment-detail p-6 bg-gray-50 min-h-screen"},pl={class:"max-w-4xl mx-auto bg-white rounded-lg shadow-md overflow-hidden"},vl={key:0},hl={class:"p-6 space-y-4"},fl={key:1,class:"p-6 bg-red-100 border-l-4 border-red-500 text-red-700",role:"alert"},xl={key:2},yl={class:"px-6 py-4 bg-gradient-to-r from-blue-500 to-indigo-600 text-white"},bl={class:"text-2xl font-bold mb-2"},_l={class:"text-sm"},wl={class:"text-sm"},kl={class:"p-6"},$l={class:"flex items-center justify-between mb-6"},Sl={key:0,class:"mb-8"},Cl={class:"text-gray-700 bg-gray-50 p-4 rounded-md"},Al={key:1,class:"mb-8"},El={class:"text-gray-700 bg-gray-50 p-4 rounded-md"},Dl={class:"text-lg font-medium mb-2"},Ll={class:"text-gray-800 mb-4"},Ml={key:0,class:"mb-4"},Fl={class:"list-disc pl-5"},jl={key:0,class:"text-green-600 ml-2"},Vl={key:1,class:"text-red-600 ml-2"},Pl={key:1,class:"mb-4"},Tl={class:"list-disc pl-5"},Ul={key:0,class:"text-green-600 ml-2"},zl={key:1,class:"text-red-600 ml-2"},Nl={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},Gl={class:"text-gray-800 bg-gray-50 p-2 rounded"},Bl={class:"text-gray-800 bg-gray-50 p-2 rounded"},ql={class:"flex items-center justify-between"},Ol={class:"font-medium"},Rl={__name:"GradedAssignmentDetailView",setup(d){const s=ue(),l=v(null),r=v(!0),o=v(null),g=async()=>{r.value=!0,o.value=null;try{const{data:u}=await Q.getGradedAssignmentDetail(s.params.id);l.value=u,console.log("Fetched assignment:",u)}catch(u){console.error("Error fetching assignment detail:",u),o.value="Failed to load assignment details. Please try again."}finally{r.value=!1}},c=u=>u?new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",f=u=>u>=90?"text-green-600":u>=80?"text-blue-600":u>=70?"text-yellow-600":"text-red-600";return B(g),(u,m)=>(t(),a("div",gl,[e("div",pl,[r.value?(t(),a("div",vl,[S(W,{type:"card",class:"h-32"}),e("div",hl,[(t(),a(D,null,M(5,b=>S(W,{type:"text",key:b})),64))])])):o.value?(t(),a("div",fl,[m[0]||(m[0]=e("p",{class:"font-bold"},"Error",-1)),e("p",null,i(o.value),1)])):l.value?(t(),a("div",xl,[e("div",yl,[e("h1",bl,i(l.value.assignment_title),1),e("p",_l,"Subject: "+i(l.value.subject),1),e("p",wl,"Submitted: "+i(c(l.value.submitted_at)),1)]),e("div",kl,[e("div",$l,[m[1]||(m[1]=e("span",{class:"text-lg font-medium text-gray-700"},"Overall Score:",-1)),e("span",{class:z(["text-3xl font-bold",f(l.value.score)])},i(l.value.score)+"%",3)]),l.value.feedback?(t(),a("div",Sl,[m[2]||(m[2]=e("h2",{class:"text-xl font-semibold mb-2"},"Feedback:",-1)),e("p",Cl,i(l.value.feedback),1)])):N("",!0),l.value.assignment_description?(t(),a("div",Al,[m[3]||(m[3]=e("h2",{class:"text-xl font-semibold mb-2"},"Assignment Description:",-1)),e("p",El,i(l.value.assignment_description),1)])):N("",!0),m[8]||(m[8]=e("h2",{class:"text-xl font-semibold mb-4"},"Questions and Answers:",-1)),(t(!0),a(D,null,M(l.value.question_responses,(b,h)=>(t(),a("div",{key:h,class:"mb-8 pb-6 border-b border-gray-200 last:border-b-0"},[e("h3",Dl,"Question "+i(h+1)+":",1),e("p",Ll,i(b.question_text),1),b.question_type==="multiple_choice"?(t(),a("div",Ml,[m[4]||(m[4]=e("p",{class:"font-medium text-gray-700 mb-2"},"Options:",-1)),e("ul",Fl,[(t(!0),a(D,null,M(b.options,(p,x)=>(t(),a("li",{key:x,class:"mb-1"},[e("span",{class:z({"font-bold":x===b.correct_answer})},i(x)+": "+i(p),3),x===b.correct_answer?(t(),a("span",jl,"(Correct)")):x===b.answer?(t(),a("span",Vl,"(Your Answer)")):N("",!0)]))),128))])])):b.question_type==="true_false"?(t(),a("div",Pl,[m[5]||(m[5]=e("p",{class:"font-medium text-gray-700 mb-2"},"Options:",-1)),e("ul",Tl,[(t(),a(D,null,M(["True","False"],p=>e("li",{key:p,class:"mb-1"},[e("span",{class:z({"font-bold":p===b.correct_answer})},i(p),3),p===b.correct_answer?(t(),a("span",Ul,"(Correct)")):p===b.answer?(t(),a("span",zl,"(Your Answer)")):N("",!0)])),64))])])):N("",!0),e("div",Nl,[e("div",null,[m[6]||(m[6]=e("p",{class:"font-medium text-gray-700"},"Your Answer:",-1)),e("p",Gl,i(b.answer),1)]),e("div",null,[m[7]||(m[7]=e("p",{class:"font-medium text-gray-700"},"Correct Answer:",-1)),e("p",Bl,i(b.correct_answer),1)])]),e("div",ql,[e("p",{class:z([b.is_correct?"text-green-600":"text-red-600","font-medium"])},i(b.is_correct?"Correct":"Incorrect"),3),e("p",Ol,"Score: "+i(b.score),1)])]))),128))])])):N("",!0)])]))}},we=Me({history:Fe("/"),routes:[{path:"/",name:"home",component:Ht},{path:"/login",name:"login",component:is},{path:"/dashboard",name:"dashboard",component:Ks,meta:{requiresAuth:!0}},{path:"/register",name:"Register",component:va},{path:"/courses",name:"Courses",component:La},{path:"/assignments",name:"Assignments",component:Ra},{path:"/grades",name:"Grades",component:mo},{path:"/attendance",name:"Attendance",component:_o},{path:"/schedule",name:"Schedule",component:Eo},{path:"/messages",name:"Messages",component:Uo},{path:"/resources",name:"Resources",component:Ho},{path:"/profile",name:"UserProfile",component:nr,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:vr},{path:"/contact",name:"Contact",component:Fr},{path:"/exams",name:"Exams",component:cn},{path:"/assignments/:id/submit",name:"AssignmentSubmit",component:Ln},{path:"/assignments/:id/submission",name:"AssignmentSubmission",component:Vn,meta:{requiresAuth:!0}},{path:"/graded-assignments",name:"GradedAssignments",component:ml},{path:"/graded-assignments/:id",name:"GradedAssignmentDetail",component:Rl,props:!0},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>Je(()=>Promise.resolve().then(()=>gt),void 0)}]});we.beforeEach((d,s,l)=>{const r=re();d.meta.requiresAuth&&!r.isAuthenticated?l("/login"):l()});const Il=ot({components:rt,directives:nt}),ee=ve(Ot);ee.use(Le());ee.use(we);ee.use(fe);ee.use(Il);ee.mount("#app");
